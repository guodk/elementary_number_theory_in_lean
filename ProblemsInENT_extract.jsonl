{"label":"\\label{cor:1.10}","question":"If $\\gcd(a, b) = d$ then $\\gcd(ma, mb) = md$ for every integer $m > 0$, and $\\gcd(\\frac{a}{d}, \\frac{b}{d}) = 1$.","solution":"By Theorem 1.8, $\\gcd(ma, mb)$ is the smallest positive value of $max + mby = m(ax + by)$, where $x, y \\in \\mathbb{Z}$, while $d$ is the smallest positive value of $ax + by$, so $\\gcd(ma, mb) = md$. Writing $d = au + bv$ and then dividing by $d$, we have $\\frac{a}{d}u + \\frac{b}{d}v = 1$, so Corollary 1.9 implies that the intergers $a\/d$ and $b\/d$ are coprime.","source":"ProblemsInENT","id":"problem_9_3","formal_statement":"import Mathlib\n\ntheorem gcd_scaling_and_reduction (a b d : ℤ) (h : Int.gcd a b = d) (hd : d ≠ 0) :\n  (∀ (m : ℕ), 0 < m → Int.gcd (m * a) (m * b) = m * d) ∧ \n  Int.gcd (a \/ d) (b \/ d) = 1 := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. It uses integers for `a`, `b`, and `d`, with `d ≠ 0` explicitly stated to allow division. The first part quantifies over positive natural numbers `m`, which is equivalent to positive integers because every positive integer corresponds to a positive natural number in Lean. The second part uses integer division, which is exact when `d` divides `a` and `b` (implied by `Int.gcd a b = d`). The conjunction appropriately combines the two conclusions.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:1.11}","question":"Let $a$ and $b$ be coprime integers.\n(a) If $a|c$ and $b|c$ then $ab|c$.\n(b) If $a|bc$ then $a|c$.","solution":"(a) We have $ax + by = 1, c = ae$ and $c = bf$ for some integers $x, y, e$ and $f$. Then $c = cax + cby = (bf)ax + (ae)by = ab(fx + ey)$, so $ab|c$.\n(b) As in (a), $c = cax + cby$. Since $a|bc$ and $a|a$, Corollary 1.4 implies that $a|(cax + cby) = c$.","source":"ProblemsInENT","id":"problem_10_9","formal_statement":"theorem coprime_divisibility_properties :\n  ∀ (a b c : Int),\n    Int.gcd a b = 1 →  -- a and b are coprime\n    ((a ∣ c) ∧ (b ∣ c) → (a * b ∣ c)) ∧  -- part (a)\n    ((a ∣ b * c) → (a ∣ c))  -- part (b)\n  := by sorry","judge":true,"judge_content":"The formalization correctly captures the mathematical statement. The use of `Int.gcd a b = 1` to express that `a` and `b` are coprime is standard, and the quantified implications for parts (a) and (b) are precisely equivalent to the original claims. The Lean 4 definition of divisibility and gcd for integers handles all cases, including zeros and negatives, without altering the intended meaning.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:1.2}","question":"If $a$ and $b$ are integers with $b \\neq 0$, then there is a unique pair of integers $q$ and $r$ such that $a = qb + r$ and $0 \\le r < |b|$.","solution":"We can now deal with the case $b < 0$: since $-b > 0$, Theorem 1.1 implies that there exist integers $q^*$ and $r$ such that $a = q^*(-b) + r$ and $0 \\le r < -b$, so putting $q = -q^*$ we again have $a = qb + r$. Uniqueness is proved as before.","source":"ProblemsInENT","id":"problem_1_2","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem division_algorithm_proof (a b : ℤ) (hb : b ≠ 0) : \n  ∃! p : ℤ × ℤ, a = p.1 * b + p.2 ∧ 0 ≤ p.2 ∧ p.2 < Int.natAbs b := by sorry","judge":true,"judge_content":"**Reasoning:**\n\nThe natural language statement asserts the existence and uniqueness of integers \\(q\\) and \\(r\\) such that \\(a = qb + r\\) and \\(0 \\le r < |b|\\) for integers \\(a\\) and \\(b\\) with \\(b \\ne 0\\). The Lean 4 formalization expresses this as:\n\n```lean\ntheorem division_algorithm_proof (a b : ℤ) (hb : b ≠ 0) : \n  ∃! p : ℤ × ℤ, a = p.1 * b + p.2 ∧ 0 ≤ p.2 ∧ p.2 < Int.natAbs b := by sorry\n```\n\n- The pair \\((q, r)\\) is represented as `p : ℤ × ℤ` with `p.1` as \\(q\\) and `p.2` as \\(r\\).\n- The condition \\(a = qb + r\\) becomes `a = p.1 * b + p.2`.\n- The inequalities \\(0 \\le r < |b|\\) are formalized as `0 ≤ p.2` and `p.2 < Int.natAbs b`.\n  - `Int.natAbs b` is the natural number representing \\(|b|\\), and in the inequality `p.2 < Int.natAbs b`, it is automatically coerced to `ℤ`, matching the integer comparison in the original statement.\n  - For \\(b \\ne 0\\), `Int.natAbs b` is positive, and the coerced value equals \\(|b|\\) as an integer.\n\nThe formalization precisely captures the original statement without ambiguity or error, and it correctly uses the provided hypothesis \\(b \\ne 0\\). The uniqueness quantifier `∃!` is appropriate for the unique pair.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:1.4}","question":"If $c$ divides $a$ and $b$, then $c$ divides $au + bv$ for all integers $u$ and $v$.","solution":"The most useful form of Theorem 1.3(a) is the case $k = 2$, which gives this result immediately.","source":"ProblemsInENT","id":"problem_3_2","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem linear_combination_divisibility (a b c : ℤ) (h1 : c ∣ a) (h2 : c ∣ b) :\n  ∀ u v : ℤ, c ∣ (a * u + b * v) := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The theorem states that for integers \\(a, b, c\\), if \\(c\\) divides \\(a\\) and \\(b\\), then for all integers \\(u, v\\), \\(c\\) divides the linear combination \\(a \\cdot u + b \\cdot v\\). This aligns perfectly with the mathematical property, and no conventions (like truncation or inclusion of zero) are violated since all operations are in \\(\\mathbb{Z}\\).\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:1.9}","question":"Two integers $a$ and $b$ are coprime if and only if there exist integers $x$ and $y$ such that $ax + by = 1$.","solution":"Let $\\gcd(a, b) = d$. If we put $c = 1$ in Theorem 1.8, we see that $ax + by = 1$ for some $x, y \\in \\mathbb{Z}$ if and only if $d|1$, that is, $d = 1$.","source":"ProblemsInENT","id":"problem_8_5","formal_statement":"theorem bezout_identity (a b : Int) :\n  Int.gcd a b = 1 ↔ ∃ (x y : Int), a * x + b * y = 1 := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The condition `Int.gcd a b = 1` is the standard definition of coprimality for integers in Lean, aligning with the mathematical notion that the greatest common divisor is 1. The equivalence with the existence of integers \\(x\\) and \\(y\\) such that \\(ax + by = 1\\) is precisely Bezout's identity for coprime integers. There are no ambiguities or discrepancies in types or conventions.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:10.4}","question":"A prime $p$ is a sum of two squares if and only if $p = 2$ or $p \\equiv 1 \\pmod 4$.","solution":"This is a special case of Theorem 10.3.","source":"ProblemsInENT","id":"problem_111_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem sum_of_squares_prime_condition (p : ℕ) (hp : Nat.Prime p) : \n  (∃ a b : ℤ, p = a^2 + b^2) ↔ (p = 2 ∨ p % 4 = 1) := by sorry","judge":true,"judge_content":"The provided Lean 4 formalization correctly captures the original mathematical statement. It considers a prime \\( p \\) (with `Nat.Prime p`) and establishes the equivalence between \\( p \\) being expressible as a sum of two squares (with integer exponents) and the condition \\( p = 2 \\) or \\( p \\equiv 1 \\pmod{4} \\). The use of `ℤ` for the squares is equivalent to using natural numbers since squaring integers yields nonnegative results, and the condition `p % 4 = 1` precisely matches the modular arithmetic condition. No ambiguities, errors, or omissions are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:11.4}","question":"The general form for a Pythagorean triple is a multiple of a primitive one.","solution":"Follows from Theorem 11.3.","source":"ProblemsInENT","id":"problem_120_3","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem pythagorean_triple_decomposition : \n  ∀ (a b c : ℕ), \n    0 < a ∧ 0 < b ∧ 0 < c ∧ a^2 + b^2 = c^2 → \n    ∃ (k d e f : ℕ), \n      0 < k ∧ 0 < d ∧ 0 < e ∧ 0 < f ∧\n      a = k * d ∧ b = k * e ∧ c = k * f ∧\n      d^2 + e^2 = f^2 ∧ Nat.gcd (Nat.gcd d e) f = 1 := by sorry","judge":true,"judge_content":"The formalization accurately captures the natural language statement that every positive Pythagorean triple can be expressed as a positive integer multiple of a primitive Pythagorean triple. The conditions in the Lean theorem correctly enforce positivity, the Pythagorean property, and primitivity via the gcd condition. There are no ambiguities or omissions, and the formalization aligns with standard mathematical conventions.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:11.6}","question":"There are no positive integer solutions of $a^4 + b^4 = c^4$.","solution":"Special case of Theorem 11.5.","source":"ProblemsInENT","id":"problem_122_6","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem prove_no_integer_solution_fermat_quartic : ¬∃ a b c : ℕ, 0 < a ∧ 0 < b ∧ 0 < c ∧ a^4 + b^4 = c^4 := by sorry","judge":true,"judge_content":"**Final Recommendation**: Correct"}
{"label":"\\label{cor:11.7}","question":"If $n$ is divisible by 4 then there are no positive integer solutions of $a^n + b^n = c^n$.","solution":"Reduction to power 4.","source":"ProblemsInENT","id":"problem_123_1","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem no_positive_solutions_divisible_by_four (n : ℕ) (h : 4 ∣ n) : \n  ¬∃ (a b c : ℕ), a > 0 ∧ b > 0 ∧ c > 0 ∧ a^n + b^n = c^n := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. It considers natural numbers (including 0) for `n`, which is consistent with Lean's conventions, and the condition `4 ∣ n` includes 0. The conclusion asserts the nonexistence of positive integers `a, b, c` satisfying the equation, aligning with the informal claim. The use of natural number exponentiation and positivity conditions is appropriate.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:2.2}","question":"If $p$ is prime and $p$ divides $a_1 \\dots a_k$, then $p$ divides $a_i$ for some $i$.","solution":"We use induction on $k$. If $k = 1$ then the assumption is that $p|a_1$, so the conclusion is automatically true (with $i = 1$). Now assume that $k > 1$ and that the result is proved for all products of $k - 1$ factors $a_i$. If we put $a = a_1 \\dots a_{k-1}$ and $b = a_k$, then $a_1 \\dots a_k = ab$ and so $p|ab$. By Lemma 2.1(b), it follows that $p|a$ or $p|b$. In the first case we have $p|a_1 \\dots a_{k-1}$, so the induction hypothesis implies that $p|a_i$ for some $i = 1, \\dots, k - 1$; in the second case we have $p|a_k$. Thus in either case $p|a_i$ for some $i$, as required.","source":"ProblemsInENT","id":"problem_14_9","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem prime_divisibility_property (p : ℕ) (hp : Nat.Prime p) (k : ℕ) (a : Fin k → ℤ) \n  (h : (p : ℤ) ∣ (Finset.univ : Finset (Fin k)).prod a) : \n  ∃ i : Fin k, (p : ℤ) ∣ a i := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The theorem asserts that for any natural prime \\( p \\), any natural number \\( k \\), and any sequence \\( a \\) of \\( k \\) integers, if \\( p \\) (as an integer) divides the product of all \\( a_i \\), then \\( p \\) divides at least one \\( a_i \\). This aligns with the standard property of primes in the integers. The use of `Fin k` for indexing and `Finset.univ.prod a` for the product is appropriate, and the inclusion of \\( k = 0 \\) is a harmless generalization.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:2.5}","question":"If a positive integer $m$ is not a perfect square, then $\\sqrt{m}$ is irrational.","solution":"It is sufficient to prove the contrapositive, that if $\\sqrt{m}$ is rational then $m$ is a perfect square. Suppose that $\\sqrt{m} = a\/b$ where $a$ and $b$ are positive integers. Then $m = a^2\/b^2$. If $a$ and $b$ have prime-power factorisations $a = p_1^{e_1} \\dots p_k^{e_k}$ and $b = p_1^{f_1} \\dots p_k^{f_k}$, then $m = p_1^{2e_1-2f_1} \\dots p_k^{2e_k-2f_k}$ must be the factorisation of $m$. Notice that every prime $p_i$ appears an even number of times in this factorisation, and $e_i - f_i \\ge 0$ for each $i$, so $m = (p_1^{e_1-f_1} \\dots p_k^{e_k-f_k})^2$ is a perfect square.","source":"ProblemsInENT","id":"problem_17_5","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem prove_sqrt_irrational (m : ℕ) (hm_pos : m > 0) (hm_not_square : ¬∃ k : ℕ, k^2 = m) : \n  Irrational (Real.sqrt m) := by sorry","judge":true,"judge_content":"The formalization accurately captures the natural language statement. The premise that \\( m \\) is a positive integer is represented by `m : ℕ` and `hm_pos : m > 0`. The condition that \\( m \\) is not a perfect square is correctly formalized as `¬∃ k : ℕ, k^2 = m`, which is equivalent to the absence of an integer square root given \\( m > 0 \\). The conclusion that \\( \\sqrt{m} \\) is irrational is represented by `Irrational (Real.sqrt m)`, where `Real.sqrt` computes the nonnegative real square root. All conventions align, and there are no ambiguities or omissions.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:2.7}","question":"The $n$-th prime $p_n$ satisfies $p_n \\le 2^{2^{n-1}}$ for all $n \\ge 1$.","solution":"We use strong induction on $n$. The result is true for $n = 1$, since $p_1 = 2 = 2^{2^0}$. Now assume that the result is true for each $n = 1, 2, \\dots, k$. As in the proof of Theorem 2.6, $p_1 p_2 \\dots p_k + 1$ must be divisible by some prime $p$; this prime cannot be one of $p_1, p_2, \\dots, p_k$, for then it would divide 1, which is impossible. Now this new prime $p$ must be at least as large as the $(k + 1)$-th prime $p_{k+1}$, so $p_{k+1} \\le p \\le p_1 p_2 \\dots p_k + 1 \\le 2^{2^0} \\cdot 2^{2^1} \\dots 2^{2^{k-1}} + 1 = 2^{1+2+4+\\dots+2^{k-1}} + 1 = 2^{2^k-1} + 1 = \\frac{1}{2} \\cdot 2^{2^k} + 1 \\le 2^{2^k}$. This proves the inequality for $n = k + 1$, so by induction it is true for all $n \\ge 1$.","source":"ProblemsInENT","id":"problem_19_8","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem prime_bound_theorem : ∀ n : ℕ, n ≥ 1 → \n  ∃ p : ℕ, Nat.Prime p ∧ \n  (∃ S : Finset ℕ, S = (Finset.range (p + 1)).filter Nat.Prime ∧ S.card = n) ∧\n  p ≤ 2^(2^(n-1)) := by sorry","judge":true,"judge_content":"The Lean 4 formalization correctly captures the original statement. The existential quantifier and the condition on the set of primes up to `p` precisely express that `p` is the `n`-th prime. The inequality and the condition `n ≥ 1` are also correctly represented. There are no issues with conventions such as natural numbers including 0 or truncated subtraction, as the expression `2^(2^(n-1))` is handled appropriately in `ℕ`.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:2.8}","question":"$\\pi(x) \\ge \\lfloor \\lg(\\lg x) \\rfloor + 1$.","solution":"$\\lfloor \\lg(\\lg x) \\rfloor + 1$ is the largest integer $n$ such that $2^{2^{n-1}} \\le x$. By Corollary 2.7 there are at least $n$ primes $p_1, p_2, \\dots, p_n \\le 2^{2^{n-1}}$. These primes are all less than or equal to $x$, so $\\pi(x) \\ge n = \\lfloor \\lg(\\lg x) \\rfloor + 1$.","source":"ProblemsInENT","id":"problem_20_2","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem prime_counting_lower_bound : ∀ x : ℕ, x ≥ 2 → \n  (Nat.primeCounting x : ℤ) ≥ ⌊Real.logb 2 (Real.logb 2 (x : ℝ))⌋ + 1 := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The domain restriction \\(x \\ge 2\\) is necessary to avoid undefined logarithms in informal mathematics, and the use of `Real.logb` for base-2 logarithms and integer floor aligns with the notation \\(\\lg\\) and \\(\\lfloor \\cdot \\rfloor\\). The types and comparisons are appropriately handled in Lean.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:3.8}","question":"If $\\gcd(a, n) = 1$ then the solutions $x$ of the linear congruence $ax \\equiv b \\pmod n$ form a single congruence class mod $(n)$.","solution":"Put $d = 1$ in Theorem 3.7.","source":"ProblemsInENT","id":"problem_32_0","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem solve_linear_congruence_uniqueness (a b n : ℤ) (ha : Int.gcd a n = 1) :\n  ∀ x₁ x₂ : ℤ, (a * x₁ ≡ b [ZMOD n] ∧ a * x₂ ≡ b [ZMOD n]) → x₁ ≡ x₂ [ZMOD n] := by sorry","judge":true,"judge_content":"The natural language statement asserts that if \\(\\gcd(a, n) = 1\\), then all solutions \\(x\\) to the congruence \\(ax \\equiv b \\pmod{n}\\) are congruent modulo \\(n\\). This is equivalent to the uniqueness of solutions modulo \\(n\\). The Lean formalization captures this precisely: for all integers \\(a\\), \\(b\\), and \\(n\\) with \\(\\operatorname{Int.gcd} a n = 1\\), if \\(x_1\\) and \\(x_2\\) are solutions (i.e., \\(a \\cdot x_1 \\equiv b \\pmod{n}\\) and \\(a \\cdot x_2 \\equiv b \\pmod{n}\\)), then \\(x_1 \\equiv x_2 \\pmod{n}\\). The formalization correctly handles the integer setting, including edge cases such as \\(n = 0\\) or negative \\(n\\), and uses appropriate Lean definitions and notation. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:4.2}","question":"Let $f(x) = a_d x^d + \\dots + a_1 x + a_0$ be a polynomial with integer coefficients, and let $p$ be prime. If $f(x)$ has more than $d$ roots in $\\mathbb{Z}_p$, then $p$ divides each of its coefficients $a_i$.","solution":"This follows immediately as the contrapositive of Theorem 4.1.","source":"ProblemsInENT","id":"problem_38_1","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem polynomial_root_lifting_theorem (f : Polynomial ℤ) (p : ℕ) [Fact (Nat.Prime p)] \n  (h : Nat.card {x : ZMod p | (f.map (Int.castRingHom (ZMod p))).eval x = 0} > f.natDegree) :\n  ∀ i, (p : ℤ) ∣ f.coeff i := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The polynomial \\( f \\) over \\( \\mathbb{Z} \\) is reduced modulo a prime \\( p \\) using `Int.castRingHom (ZMod p)`, and the condition that the number of distinct roots in \\( \\mathbb{Z}_p \\) exceeds the degree \\( d \\) (represented by `f.natDegree`) is expressed via `Nat.card`. The conclusion that \\( p \\) divides every coefficient of \\( f \\) is accurately formalized as `∀ i, (p : ℤ) ∣ f.coeff i`. All conventions align, including the treatment of natural numbers starting at 0 and the distinct counting of roots via a set.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:4.4}","question":"If $p$ is prime then $a^p \\equiv a \\pmod p$ for every integer $a$.","solution":"If $a \\neq 0$ then Theorem 4.3 gives $a^{p-1} \\equiv 1$, so multiplying each side by $a$ gives the result. If $a \\equiv 0$ then $a^p \\equiv 0$ also, so the result is again true.","source":"ProblemsInENT","id":"problem_40_0","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem fermat_little_theorem (p : ℕ) (a : ℤ) (hp : Nat.Prime p) : \n  (a ^ p) ≡ a [ZMOD p] := by sorry","judge":true,"judge_content":"The formalization correctly captures the statement of Fermat's Little Theorem: for any prime natural number \\( p \\) and any integer \\( a \\), \\( a^p \\) is congruent to \\( a \\) modulo \\( p \\). The Lean 4 code uses appropriate types (`ℤ` for `a`, `ℕ` for `p` with `Nat.Prime p`) and the integer modulo relation `[ZMOD p]`, which aligns precisely with the informal mathematical statement. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:4.5}","question":"An integer $n$ is prime if and only if $(n - 1)! \\equiv -1 \\pmod n$.","solution":"Suppose that $n$ is a prime $p$. If $p = 2$ then $(p - 1)! = 1 \\equiv -1 \\pmod p$, as required, so we may assume that $p$ is odd. Define $f(x) = (1 - x)(2 - x) \\dots (p - 1 - x) + 1 - x^{p-1}$, a polynomial with integer coefficients. This has degree $d < p - 1$. If $a = 1, 2, \\dots, p - 1$ then $f(a) \\equiv 0 \\pmod p$: the product vanishes and $1 - a^{p-1} \\equiv 0$ by Fermat's Little Theorem. Thus $f(x)$ has more than $d$ roots mod $(p)$, so by Corollary 4.2 its coefficients are all divisible by $p$. In particular, $p$ divides the constant term $(p - 1)! + 1$, so $(p - 1)! \\equiv -1$.\nFor the converse, suppose that $(n - 1)! \\equiv -1 \\pmod n$. If $m < n$ then $m$ appears as a factor of $(n - 1)!$, so $(n - 1)! \\equiv 0 \\pmod m$ and hence $-1 \\equiv 0 \\pmod m$. This implies that $m = 1$, so we conclude that $n$ has no proper factors and is therefore prime.","source":"ProblemsInENT","id":"problem_41_8","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem wilsontest (n : ℕ) (h : Nat.Prime n) : (n - 1).factorial ≡ -1 [ZMOD n] := by sorry","judge":false,"judge_content":"**Final Recommendation**: Incorrect\n\nThe formalization is incorrect because it only captures one direction of the original \"if and only if\" statement. The original problem states that an integer \\( n \\) is prime *if and only if* \\((n-1)! \\equiv -1 \\pmod{n}\\), but the Lean theorem `wilsontest` only asserts the implication that if \\( n \\) is prime, then \\((n-1)! \\equiv -1 \\pmod{n}\\). The converse (that if \\((n-1)! \\equiv -1 \\pmod{n}\\) then \\( n \\) is prime) is missing. Additionally, the formalization uses `Nat` for \\( n \\), which is consistent with the integer condition only if we interpret \"integer\" as nonnegative integer; however, the primary issue is the omission of the reverse implication."}
{"label":"\\label{cor:5.7}","question":"If $n$ has prime-power factorisation $n = p_1^{e_1} \\dots p_k^{e_k}$ then $\\phi(n) = \\prod_{i=1}^k (p_i^{e_i} - p_i^{e_i-1}) = n \\prod_{i=1}^k (1 - \\frac{1}{p_i})$.","solution":"We use induction on $k$. Lemma 5.4 deals with $k = 1$. Assume true for $k-1$. We have $n = (p_1^{e_1} \\dots p_{k-1}^{e_{k-1}}) p_k^{e_k}$, where the factors are coprime, so Theorem 5.6 gives $\\phi(n) = \\phi(p_1^{e_1} \\dots p_{k-1}^{e_{k-1}})\\phi(p_k^{e_k})$. The induction hypothesis and Lemma 5.4 give the result.","source":"ProblemsInENT","id":"problem_50_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem euler_totient_formula (n : ℕ) (h : n > 0) : \n  (Nat.totient n = ∏ p in n.primeFactors, (p^(n.factorization p) - p^(n.factorization p - 1))) ∧\n  (Nat.totient n = n * ∏ p in n.primeFactors, (1 - 1\/(p : ℚ))) := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. The use of `n.primeFactors` and `n.factorization` accurately represents the distinct primes and their exponents in the factorization of \\(n\\). The hypothesis \\(n > 0\\) is necessary and appropriately included. The first equality is expressed in \\(\\mathbb{N}\\), while the second uses \\(\\mathbb{Q}\\) to handle the rational product, which is valid due to coercions and matches the informal rational expression. All conventions are respected, and there are no ambiguities or errors.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:6.14}","question":"Structure of $U_n$ as a direct product of cyclic groups.","solution":"Follows from Theorem 6.13 and the structure of $U_{p^e}$ and $U_{2^e}$.","source":"ProblemsInENT","id":"problem_65_6","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem group_isomorphism_un_aut_cyclic (n : ℕ) (hn : 0 < n) : \n  (IsCyclic (MulAut (ZMod n)) ∧ Nat.card (MulAut (ZMod n)) = Nat.totient n) ∧ \n  Nonempty (MulEquiv (ZMod n)ˣ (MulAut (ZMod n))) := by sorry","judge":false,"judge_content":"**Explanation of the Discrepancy**  \nThe natural language problem concerns the structure of \\( U_n \\) (the group of units modulo \\( n \\)) as a direct product of cyclic groups. However, the Lean 4 formalization presents a different statement:\n\n- It claims that the multiplicative automorphism group `MulAut (ZMod n)` is cyclic and has cardinality equal to `Nat.totient n`.\n- It also claims a multiplicative equivalence between `(ZMod n)ˣ` (which is \\( U_n \\)) and `MulAut (ZMod n)`.\n\nThis formalization is incorrect for several reasons:\n\n1. **Mathematical Inaccuracy**: The statement is false in general. For example, when \\( n = 8 \\), \\( U_8 \\) is the Klein four-group (a direct product of two cyclic groups of order 2), which is not cyclic. Moreover, `MulAut (ZMod 8)` is isomorphic to the automorphism group of the Klein four-group, which has order 6, not \\( \\varphi(8) = 4 \\). Thus, the claimed properties do not hold.\n\n2. **Mismatch with the Problem**: The natural language problem discusses the structure of \\( U_n \\) as a direct product of cyclic groups, but the Lean formalization does not mention direct products or cyclic decompositions at all. Instead, it asserts a specific (and incorrect) isomorphism and cyclicity property.\n\n3. **Missing Core Content**: The formalization fails to capture the essence of the structure theorem for \\( U_n \\), which describes it as a finite abelian group that decomposes into cyclic factors. No such decomposition is formalized.\n\nGiven these issues, the formalization is not equivalent to the natural language problem and contains false statements.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{cor:6.3}","question":"Distinct Mersenne numbers are coprime.","solution":"In Lemma 6.2, if we take $l$ and $m$ to be distinct primes we see that $M_l = 2^l - 1$ and $M_m = 2^m - 1$ are coprime.","source":"ProblemsInENT","id":"problem_54_2","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem mersenne_coprime_theorem (a b : ℕ) (ha : 0 < a) (hb : 0 < b) (hab : a ≠ b) : \n  Nat.gcd (2^a - 1) (2^b - 1) = 1 := by sorry","judge":true,"judge_content":"**Step-by-step reasoning:**\n\n1. **Natural language statement interpretation**: The claim is that for distinct positive integers \\(a\\) and \\(b\\), the Mersenne numbers \\(2^a - 1\\) and \\(2^b - 1\\) are coprime (i.e., \\(\\gcd(2^a - 1, 2^b - 1) = 1\\)).\n\n2. **Lean formalization analysis**:\n   - The theorem `mersenne_coprime_theorem` takes `a b : ℕ` with hypotheses `ha : 0 < a`, `hb : 0 < b`, and `hab : a ≠ b`.\n   - The conclusion is `Nat.gcd (2^a - 1) (2^b - 1) = 1`, which exactly means the two numbers are coprime in the natural number sense.\n   - The formalization correctly captures that \\(a\\) and \\(b\\) are distinct positive integers, matching \"distinct Mersenne numbers\".\n   - The expression `2^a - 1` uses natural number subtraction. For \\(a > 0\\), \\(2^a \\ge 2\\), so \\(2^a - 1\\) is the intended Mersenne number (no truncation issues).\n   - The use of `Nat.gcd` is standard for coprimality in \\(\\mathbb{N}\\).\n\n3. **Potential concerns**:\n   - The statement is mathematically false (counterexample: \\(a=2\\), \\(b=4\\) gives \\(\\gcd(3,15)=3 \\neq 1\\)). However, the task is to verify the formalization's alignment with the natural language statement, not its truth. The formalization accurately represents the given false statement.\n   - The natural language does not specify that exponents must be prime; it uses \"Mersenne numbers\" (typically \\(2^n - 1\\) for any positive integer \\(n\\)), which the formalization reflects.\n   - The condition `a ≠ b` ensures distinct exponents, which is equivalent to distinct Mersenne numbers for positive exponents.\n\n4. **Conclusion**: The Lean 4 formalization is a precise and correct representation of the natural language statement.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:6.6}","question":"If $p$ is prime then the group $U_p$ is cyclic.","solution":"Putting $d = p - 1$ in Theorem 6.5, we see that there are $\\phi(p - 1)$ elements of order $p - 1$. Since $\\phi(p - 1) \\ge 1$, there is at least one generator, so $U_p$ is cyclic.","source":"ProblemsInENT","id":"problem_57_1","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\ntheorem u_p_cyclic_for_prime (p : ℕ) (hp : Nat.Prime p) : IsCyclic (ZMod p)ˣ := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. The group $U_p$ is interpreted as the multiplicative group of units modulo $p$, represented in Lean as `(ZMod p)ˣ`. The premise that $p$ is prime is given by `Nat.Prime p`, and the conclusion that the group is cyclic is expressed with `IsCyclic (ZMod p)ˣ`. There are no ambiguities or mismatches in conventions.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:7.10}","question":"If $p$ is an odd prime then $(\\frac{2}{p}) = (-1)^{(p^2-1)\/8}$; thus $2 \\in Q_p$ if and only if $p \\equiv \\pm 1 \\pmod 8$.","solution":"Using Gauss's Lemma with $a=2$, we count how many $2x$ (for $1 \\le x \\le (p-1)\/2$) fall in $N$. This happens when $p\/2 < 2x < p$, i.e., $p\/4 < x < p\/2$. The number of such integers is $\\mu$. Calculation shows $\\mu$ is even iff $p \\equiv ± 1 \\pmod 8$.","source":"ProblemsInENT","id":"problem_76_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem legendre_symbol_two_quadratic_residue_condition (p : ℕ) (hp_prime : Nat.Prime p) (hp_odd : Odd p) :\n  (legendreSym 2 p = (-1 : ℤ) ^ ((p^2 - 1) \/ 8)) ∧ \n  (IsSquare (2 : ZMod p) ↔ (p % 8 = 1 ∨ p % 8 = 7)) := by sorry","judge":true,"judge_content":"**Final Recommendation**: Correct"}
{"label":"\\label{cor:7.12}","question":"If $n \\ge 1$, then the Fermat number $F_n = 2^{2^n} + 1$ is prime if and only if $3^{(F_n-1)\/2} \\equiv -1 \\pmod{F_n}$.","solution":"If $F_n$ is prime, since $F_n \\equiv 5 \\pmod{12}$, $3$ is a non-residue, so $3^{(F_n-1)\/2} \\equiv -1$. Conversely, if the relation holds, then $3$ has order $F_n-1$ in $U_{F_n}$ (modulo any prime factor), implying primality (as in Lucas test).","source":"ProblemsInENT","id":"problem_78_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem fermat_number_primality (n : ℕ) (hn : n ≥ 1) : \n  let F_n := 2^(2^n) + 1\n  Nat.Prime F_n ↔ (3 : ZMod F_n)^((F_n - 1) \/ 2) = (-1 : ZMod F_n) := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. The definition of Fermat numbers and the congruence condition are accurately translated into Lean, accounting for natural number conventions and modular arithmetic. The condition `n ≥ 1` is properly included, and the use of `ZMod F_n` appropriately represents the modulo condition.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:7.4}","question":"If $p$ is an odd prime, and $g$ is a primitive root mod $(p)$, then $(\\frac{g^i}{p}) = (-1)^i$.","solution":"This follows from Lemma 7.3: $g^i$ is a quadratic residue iff $i$ is even.","source":"ProblemsInENT","id":"problem_70_2","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem legendre_symbol_primitive_root (p : ℕ) (g : ℕ) (hp_prime : Nat.Prime p) (hp_odd : Odd p) \n  (hg_coprime : Nat.gcd g p = 1) (hg_primitive : orderOf (g : ZMod p) = p - 1) :\n  ∀ i : ℕ, jacobiSym (g^i : ℤ) p = (-1 : ℤ)^i := by sorry","judge":false,"judge_content":"The formalization restricts the exponent `i` to natural numbers (`ℕ`), while the original statement does not specify the domain of `i`. In number theory, this property is typically stated for all integers `i`, as the Legendre symbol is defined for integer arguments and the multiplicative property extends to negative exponents via modular inverses. By only covering nonnegative `i`, the formalization omits the case of negative exponents, which constitutes an incompleteness relative to the standard interpretation of the statement.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{cor:7.7}","question":"Let $p$ be an odd prime. Then $-1 \\in Q_p$ if and only if $p \\equiv 1 \\pmod 4$.","solution":"By Euler's criterion, $(\\frac{-1}{p}) \\equiv (-1)^{(p-1)\/2}$. This is 1 iff $(p-1)\/2$ is even, i.e., $p \\equiv 1 \\pmod 4$.","source":"ProblemsInENT","id":"problem_73_2","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem quadratic_residue_mod_p (p : ℕ) (hp_prime : Nat.Prime p) (hp_odd : Odd p) :\n  IsSquare (-1 : ZMod p) ↔ p % 4 = 1 := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement: for an odd prime \\( p \\), \\(-1\\) is a quadratic residue modulo \\( p \\) if and only if \\( p \\equiv 1 \\pmod{4} \\). The hypotheses `Nat.Prime p` and `Odd p` ensure \\( p \\) is an odd prime, and `IsSquare (-1 : ZMod p)` corresponds exactly to \\(-1 \\in Q_p\\). The equivalence with `p % 4 = 1` is the natural number representation of \\( p \\equiv 1 \\pmod{4} \\), which is equivalent for positive integers. No ambiguities, errors, or omissions are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:7.8}","question":"There are infinitely many primes $p \\equiv 1 \\pmod 4$.","solution":"Suppose $p_1, \\dots, p_k$ are the only such primes. Let $m = (2 p_1 \\dots p_k)^2 + 1$. $m$ has an odd prime factor $p$. $(2 p_1 \\dots p_k)^2 \\equiv -1 \\pmod p$, so $-1 \\in Q_p$, so $p \\equiv 1 \\pmod 4$. But $p$ cannot be any $p_i$, contradiction.","source":"ProblemsInENT","id":"problem_74_2","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem primes_congruent_to_one_mod_four : ∀ n : ℕ, ∃ p : ℕ, Nat.Prime p ∧ p > n ∧ p % 4 = 1 := by sorry","judge":true,"judge_content":"The formalization correctly captures the statement that there are infinitely many primes congruent to 1 modulo 4. The condition `∀ n : ℕ, ∃ p : ℕ, Nat.Prime p ∧ p > n ∧ p % 4 = 1` is equivalent to the infinitude of such primes in the natural numbers (including 0), and the use of `Nat.Prime` and modulo operation aligns with standard number-theoretic conventions in Lean. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:8.15}","question":"Suppose that $f(n) = \\sum_{d|n} g(d)$. Then $f$ is multiplicative if and only if $g$ is multiplicative.","solution":"$f=g*u$. Use Theorem 8.14 and its inverse.","source":"ProblemsInENT","id":"problem_97_3","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem multiplicative_function_equivalence (f g : ℕ → ℂ) \n  (h : ∀ n : ℕ, n > 0 → f n = ∑ d in Nat.divisors n, g d) :\n  (∀ m n : ℕ, m > 0 → n > 0 → Nat.gcd m n = 1 → f (m * n) = f m * f n) ↔ \n  (∀ m n : ℕ, m > 0 → n > 0 → Nat.gcd m n = 1 → g (m * n) = g m * g n) := by sorry","judge":true,"judge_content":"The formalization accurately captures the original mathematical statement. The premise restricts to positive natural numbers, which is standard for divisor sums in number theory, and the multiplicative conditions are correctly defined for coprime positive integers. The codomain ℂ is appropriate for arithmetic functions, and the use of `Nat.divisors` and `Nat.gcd` aligns with conventional definitions.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:8.7}","question":"If $n \\ge 1$ then $\\phi(n) = \\sum_{d|n} d\\mu(n\/d) = \\sum_{d|n} \\mu(d) \\frac{n}{d}$.","solution":"Apply Mobius Inversion to $\\sum_{d|n} \\phi(d) = n$.","source":"ProblemsInENT","id":"problem_89_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem totient_mobius_identity (n : ℕ) (hn : n ≥ 1) : \n  Nat.totient n = (Nat.divisors n).sum (fun d => d * ArithmeticFunction.moebius (n \/ d)) ∧\n  Nat.totient n = (Nat.divisors n).sum (fun d => ArithmeticFunction.moebius d * (n \/ d)) := by sorry","judge":true,"judge_content":"The formalization correctly represents the given mathematical statement. The natural language theorem asserts that for \\( n \\ge 1 \\), the Euler totient function \\( \\phi(n) \\) satisfies two identities involving sums over divisors and the Möbius function. The Lean 4 code:\n\n- Uses `Nat.totient` for \\( \\phi(n) \\).\n- Uses `Nat.divisors n` for the set of divisors.\n- Uses `ArithmeticFunction.moebius` for the Möbius function \\( \\mu \\).\n- Ensures \\( n \\ge 1 \\) via the hypothesis `hn`.\n- Expresses both identities exactly: \\( \\sum_{d \\mid n} d \\mu(n\/d) \\) and \\( \\sum_{d \\mid n} \\mu(d) \\frac{n}{d} \\), with appropriate coercions to ℤ for arithmetic consistency.\n\nAll conventions align, and there are no ambiguities or errors.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:8.9}","question":"The function $\\mu$ is multiplicative.","solution":"Follows from Theorem 8.8.","source":"ProblemsInENT","id":"problem_91_1","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem mobius_function_multiplicative (a b : ℕ) (h : Nat.Coprime a b) : \n  ArithmeticFunction.moebius (a * b) = ArithmeticFunction.moebius a * ArithmeticFunction.moebius b := by sorry","judge":true,"judge_content":"The formalization correctly captures the multiplicative property of the Möbius function for all natural numbers (including 0) under the coprime condition, aligning with Mathlib's definition and theorem. The domain in Lean is ℕ, which includes 0, but the statement remains valid as the Möbius function is defined to be 0 at 0 and the multiplicative property holds for coprime pairs, including (0,1) and (1,0). No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{cor:9.8}","question":"Euler product for Dirichlet series of multiplicative functions.","solution":"Apply Theorem 9.7 to $f(n)n^{-s}$.","source":"ProblemsInENT","id":"problem_105_8","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem euler_product_dirichlet_series (f : ℕ → ℂ) \n  (hf : ∀ m n : ℕ, Nat.gcd m n = 1 → f (m * n) = f m * f n)\n  (s : ℂ) :\n  (∑' n : ℕ, if n = 0 then 0 else f n \/ (n : ℂ)^s) = \n  ∏' p : ℕ, if Nat.Prime p then (1 - f p \/ (p : ℂ)^s)⁻¹ else 1 := by sorry","judge":false,"judge_content":"The formalization is incorrect due to several critical issues:\n\n1. **Missing convergence conditions**: The Euler product formula requires absolute convergence of the Dirichlet series for the equality to hold. The formalization lacks any such hypothesis on `s` or `f`, making the statement false in general.\n\n2. **Mismatched multiplicativity condition**: The hypothesis `hf` only assumes multiplicativity for coprime arguments, but the Euler product `(1 - f p \/ p^s)⁻¹` is valid only for completely multiplicative functions. For general multiplicative functions, the Euler product involves a sum over prime powers.\n\n3. **Potential notation issues**: The symbol `∏'` for infinite products is not standard in Mathlib4 and may not be defined in the given context, leading to ambiguity.\n\nThese issues cause the formalization to deviate significantly from the intended mathematical statement.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{lem:1.5}","question":"If $a = qb + r$ then $\\gcd(a, b) = \\gcd(b, r)$.","solution":"By Corollary 1.4, any common divisor of $b$ and $r$ also divides $qb + r = a$; similarly, since $r = a - qb$, it follows that any common divisor of $a$ and $b$ also divides $r$. Thus the two pairs $a, b$ and $b, r$ have the same common divisors, so they have the same greatest common divisor.","source":"ProblemsInENT","id":"problem_4_4","formal_statement":"theorem gcd_euclidean_relation {a b q r : Int} (h : a = q * b + r) : \n  Int.gcd a b = Int.gcd b r := by sorry","judge":true,"judge_content":"The natural language statement is a fundamental property of the greatest common divisor: for integers, if \\(a = qb + r\\), then \\(\\gcd(a, b) = \\gcd(b, r)\\). The Lean 4 formalization correctly captures this:\n\n- The variables `a, b, q, r` are appropriately typed as `Int`, reflecting the integer context typically assumed for such statements.\n- The hypothesis `h : a = q * b + r` matches the condition in the natural language.\n- The conclusion `Int.gcd a b = Int.gcd b r` is exactly the equality to be proven.\n- No additional constraints (like \\(0 \\le r < |b|\\)) are required for the property to hold, and the formalization does not impose any, which is consistent with the general integer version.\n\nThe formalization aligns precisely with the natural language statement, and there are no ambiguities or errors.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:10.1}","question":"The set $S_2$, consisting of the sums of two squares, is closed under multiplication.","solution":"Use the identity $(a_1^2 + b_1^2)(a_2^2 + b_2^2) = (a_1 a_2 - b_1 b_2)^2 + (a_1 b_2 + b_1 a_2)^2$.","source":"ProblemsInENT","id":"problem_108_8","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem sum_of_two_squares_product_closed : \n  ∀ a b : ℤ, \n    (∃ x y : ℤ, a = x^2 + y^2) → \n    (∃ u v : ℤ, b = u^2 + v^2) → \n    (∃ p q : ℤ, a * b = p^2 + q^2) := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement that the set of integers expressible as sums of two squares is closed under multiplication. It uses integer arithmetic in Lean, which aligns with the conventional number-theoretic setting for this property. The premises ensure that only nonnegative integers are considered, as sums of squares are nonnegative, and the conclusion requires expressing the product as a sum of two squares in integers, which is standard.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:10.5}","question":"The set $S_4$, consisting of the sums of four squares, is closed under multiplication.","solution":"Use Euler's four-square identity.","source":"ProblemsInENT","id":"problem_112_0","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem sum_four_squares_product_identity : \n  ∀ a₁ a₂ a₃ a₄ b₁ b₂ b₃ b₄ : ℤ, \n    ∃ c₁ c₂ c₃ c₄ : ℤ, \n      (a₁^2 + a₂^2 + a₃^2 + a₄^2) * (b₁^2 + b₂^2 + b₃^2 + b₄^2) = c₁^2 + c₂^2 + c₃^2 + c₄^2 := by sorry","judge":true,"judge_content":"The formalization accurately captures the statement that the product of two sums of four squares is itself a sum of four squares, using Euler's four-square identity. The use of integers (ℤ) is appropriate, as the identity holds for integers and naturally extends to nonnegative cases. There are no ambiguities or omissions in the formalization relative to the natural language statement.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:10.7}","question":"If $\\Lambda$ is a lattice in $\\mathbb{R}^n$, then $\\Lambda$ is a subgroup of $\\mathbb{R}^n$ under addition.","solution":"Closure under subtraction.","source":"ProblemsInENT","id":"problem_114_7","formal_statement":"import Mathlib\n\nopen Real Topology\n\n\/-- If Λ is a lattice in ℝⁿ, then Λ is a subgroup of ℝⁿ under addition. -\/\ntheorem lattice_is_additive_subgroup (n : ℕ) (Λ : Set (Fin n → ℝ)) \n  (h_lattice : -- Λ is a lattice in ℝⁿ, meaning it's a discrete subgroup\n     -- Λ is a subgroup\n     (∀ x y : Fin n → ℝ, x ∈ Λ → y ∈ Λ → (fun i => x i + y i) ∈ Λ) ∧ \n     -- Λ is discrete\n     (∃ d > 0, ∀ x y : Fin n → ℝ, x ∈ Λ → y ∈ Λ → x ≠ y → \n       ∃ i, |x i - y i| ≥ d) ∧\n     -- Λ is generated by n linearly independent vectors\n     (∃ (B : Matrix (Fin n) (Fin n) ℝ), \n       LinearIndependent ℝ (fun j : Fin n => fun i => B j i) ∧\n       ∀ v : Fin n → ℝ, v ∈ Λ ↔ ∃ z : Fin n → ℤ, v = fun i => ∑ j, z j * B j i)) :\n  -- The theorem statement properly concludes that Λ is an additive subgroup\n  ∃ (H : AddSubgroup (Fin n → ℝ)), ↑H = Λ := sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The hypothesis `h_lattice` includes three conditions: closure under addition, discreteness (in a componentwise sense), and existence of a basis with integer combinations. Together, these imply that `Λ` is an additive subgroup of `(Fin n → ℝ)`. The conclusion `∃ (H : AddSubgroup (Fin n → ℝ)), ↑H = Λ` is equivalent to stating that `Λ` is the carrier of an additive subgroup, aligning perfectly with the informal claim that `Λ` is a subgroup under addition.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:10.8}","question":"For each $v \\in \\mathbb{R}^n$ there is a unique $w \\in F$ with $v \\sim w$.","solution":"Using fractional parts of coordinates.","source":"ProblemsInENT","id":"problem_115_7","formal_statement":"import Mathlib\n\ntheorem projection_map_properties (n : ℕ) (F : Subspace ℝ (Fin n → ℝ)) \n  (π : (Fin n → ℝ) →ₗ[ℝ] (Fin n → ℝ))\n  (h_range : ∀ v : Fin n → ℝ, π v ∈ F)\n  (h_unique : ∀ v : Fin n → ℝ, ∀ w₁ w₂ : Fin n → ℝ, \n    w₁ ∈ F → w₂ ∈ F → π v = w₁ → π v = w₂ → w₁ = w₂) :\n  (π ∘ₗ π = π) ∧ (F = {v : Fin n → ℝ | π v = v}) := sorry","judge":false,"judge_content":"The Lean 4 formalization does not accurately represent the natural language statement. The original statement involves a relation ∼ and asserts the existence of a unique element in F for each vector, but the formalization introduces a linear map π without defining ∼, and the hypotheses do not capture the intended uniqueness condition. The condition `h_unique` is redundant and does not correspond to the uniqueness requirement in the original statement. Furthermore, the conclusion about π being idempotent and F being its fixed points is not implied by the original statement alone.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{lem:10.9}","question":"If $\\text{vol}(X) > \\text{vol}(F)$ then the restriction $\\phi|_X$ of $\\phi$ to $X$ is not one-to-one.","solution":"Sum of volumes of parts is volume of $X$.","source":"ProblemsInENT","id":"problem_116_6","formal_statement":"import Mathlib\n\nopen MeasureTheory\n\ntheorem volume_injection_bound {X F : Set ℝ} \n  (φ : ℝ → ℝ) \n  (h : volume X > volume F) :\n  ¬Function.Injective (fun x : X => φ x) := by sorry","judge":false,"judge_content":"The natural language statement is false in general, as demonstrated by counterexamples (e.g., taking \\(X = [0,1]\\), \\(F = [0,0.5]\\), and \\(\\phi\\) as the identity function). The Lean formalization attempts to assert this false statement as a theorem, which is incorrect. Additionally, the formalization restricts the context to subsets of \\(\\mathbb{R}\\) and functions \\(\\mathbb{R} \\to \\mathbb{R}\\), while the natural language does not specify the dimension or domain, introducing ambiguity.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{lem:2.11}","question":"If $2^m + 1$ is prime then $m = 2^n$ for some integer $n \\ge 0$.","solution":"We prove the contrapositive, that if $m$ is not a power of 2 then $2^m + 1$ is not prime. If $m$ is not a power of 2, then $m$ has the form $2^n q$ for some odd $q > 1$. Now the polynomial $f(t) = t^q + 1$ has a root $t = -1$, so it is divisible by $t + 1$; this is a proper factor since $q > 1$, so putting $t = x^{2^n}$ we see that the polynomial $g(x) = f(x^{2^n}) = x^m + 1$ has a proper factor $x^{2^n} + 1$. Taking $x = 2$ we see that $2^{2^n} + 1$ is a proper factor of the integer $g(2) = 2^m + 1$, which cannot therefore be prime.","source":"ProblemsInENT","id":"problem_22_3","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem prime_power_of_two_exponent (m : ℕ) : Nat.Prime (2^m + 1) → ∃ n : ℕ, m = 2^n := by sorry","judge":true,"judge_content":"The Lean 4 formalization accurately represents the natural language statement. Both specify that if \\(2^m + 1\\) is prime (with \\(m\\) a natural number, implicitly nonnegative), then \\(m\\) must be a power of 2 with a nonnegative exponent \\(n\\). The use of `ℕ` in Lean correctly captures the nonnegative integers, and `Nat.Prime` matches the notion of primality in the natural numbers. Although the statement itself is false for \\(m = 0\\), the formalization is an exact translation.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:2.12}","question":"Distinct Fermat numbers $F_n$ are mutually coprime.","solution":"Let $d = \\gcd(F_n, F_{n+k})$ be the greatest common divisor of two Fermat numbers $F_n$ and $F_{n+k}$, where $k > 0$. The polynomial $x^{2^k} - 1$ has a root $x = -1$, so it is divisible by $x + 1$. Putting $x = 2^{2^n}$ we see that $F_n$ divides $F_{n+k} - 2$, so $d$ divides 2 and hence $d$ is 1 or 2. Since all Fermat numbers are odd, $d = 1$.","source":"ProblemsInENT","id":"problem_23_5","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\ndef fermat_number (n : ℕ) : ℕ := 2^(2^n) + 1\n\ntheorem fermat_numbers_coprime : ∀ m n : ℕ, m ≠ n → Nat.gcd (fermat_number m) (fermat_number n) = 1 := by sorry","judge":true,"judge_content":"The formalization correctly captures the statement that distinct Fermat numbers are coprime. The definition `fermat_number n := 2^(2^n) + 1` matches the standard definition of Fermat numbers, and the theorem `∀ m n : ℕ, m ≠ n → Nat.gcd (fermat_number m) (fermat_number n) = 1` precisely expresses pairwise coprimality for distinct indices. No conventions are violated, as Lean's `ℕ` includes 0 (consistent with the usual definition of Fermat numbers starting at `n = 0`) and `Nat.gcd` appropriately computes the greatest common divisor for natural numbers.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:2.14}","question":"An integer $n > 1$ is composite if and only if it is divisible by some prime $p \\le \\sqrt{n}$.","solution":"If $n$ is divisible by such a prime $p$, then since $1 < p \\le \\sqrt{n} < n$ it follows that $n$ is composite. Conversely, if $n$ is composite then $n = ab$ where $1 < a < n$ and $1 < b < n$; at least one of $a$ and $b$ is less than or equal to $\\sqrt{n}$ (if not, $ab > n$), and this factor will be divisible by a prime $p \\le \\sqrt{n}$, which then divides $n$.","source":"ProblemsInENT","id":"problem_24_0","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem composite_divisibility_by_prime (n : ℕ) (hn : n > 1) : \n  (¬Nat.Prime n) ↔ (∃ p : ℕ, Nat.Prime p ∧ p ∣ n ∧ p ≤ Nat.sqrt n) := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. For \\( n > 1 \\), being composite (i.e., not prime) is equivalent to the existence of a prime divisor \\( p \\) such that \\( p \\leq \\sqrt{n} \\). In Lean, `Nat.sqrt n` computes the floor of the square root, which is equivalent to the condition \\( p \\leq \\sqrt{n} \\) for integer \\( p \\). The use of `¬Nat.Prime n` for compositeness (given \\( n > 1 \\)) is standard and matches the mathematical definition. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:2.1}","question":"Let $p$ be prime, and let $a$ and $b$ be any integers. Then (a) either $p$ divides $a$, or $a$ and $p$ are coprime; (b) if $p$ divides $ab$, then $p$ divides $a$ or $p$ divides $b$.","solution":"(a) By its definition, $\\gcd(a, p)$ is a positive divisor of $p$, so it must be 1 or $p$ since $p$ is prime. If $\\gcd(a, p) = p$, then since $\\gcd(a, p)$ divides $a$ we have $p|a$; if $\\gcd(a, p) = 1$ then $a$ and $p$ are coprime.\n(b) Let $p|ab$. If $p$ does not divide $a$ then part (a) implies that $\\gcd(a, p) = 1$. Now Bezout's identity (Theorem 1.7) gives $1 = au + pv$ for some integers $u$ and $v$, so $b = aub + pvb$. By our assumption, $p$ divides $ab$ and hence divides $aub$; it clearly divides $pvb$, so it also divides $b$, as required.","source":"ProblemsInENT","id":"problem_13_7","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem euclids_lemma_and_prime_divisibility (p : ℕ) (a b : ℤ) (hp : Nat.Prime p) :\n  ((p : ℤ) ∣ a ∨ Nat.Coprime (Int.natAbs a) p) ∧\n  ((p : ℤ) ∣ (a * b) → (p : ℤ) ∣ a ∨ (p : ℤ) ∣ b) := by sorry","judge":true,"judge_content":"**Reasoning:**\n\nThe original problem states that for a prime \\( p \\) and integers \\( a \\) and \\( b \\):  \n(a) \\( p \\mid a \\) or \\( a \\) and \\( p \\) are coprime.  \n(b) If \\( p \\mid ab \\), then \\( p \\mid a \\) or \\( p \\mid b \\).\n\nThe Lean formalization uses:\n- `p : ℕ` with `hp : Nat.Prime p` to represent the prime \\( p \\).\n- `a b : ℤ` for the integers.\n- Part (a): `(p : ℤ) ∣ a ∨ Nat.Coprime (Int.natAbs a) p` correctly captures the disjunction. The condition `Nat.Coprime (Int.natAbs a) p` is equivalent to the integer coprimality of \\( a \\) and \\( p \\), since `Int.gcd a (p : ℤ) = Nat.gcd (Int.natAbs a) p`.\n- Part (b): `(p : ℤ) ∣ (a * b) → (p : ℤ) ∣ a ∨ (p : ℤ) ∣ b` directly formalizes the implication.\n\nThe formalization respects Lean conventions:  \n- `Nat.Prime p` implies \\( p \\geq 2 \\), so nonzero.  \n- Divisibility in `ℤ` is used appropriately, without truncation or rounding issues.  \n- The conjunction of (a) and (b) matches the original statement exactly.\n\nNo ambiguities, errors, or omissions are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:2.4}","question":"If $a_1, \\dots, a_r$ are mutually coprime positive integers, and $a_1 \\dots a_r$ is an $m$-th power for some integer $m \\ge 2$, then each $a_i$ is an $m$-th power.","solution":"It follows from the formula for $a^m$ that a positive integer is an $m$-th power if and only if the exponent of each prime in its prime-power factorisation is divisible by $m$. If $a = a_1 \\dots a_r$, where the factors $a_i$ are mutually coprime, then each prime power $p^e$ appearing in the factorisation of any $a_i$ also appears as the full power of $p$ in the factorisation of $a$; since $a$ is an $m$-th power, $e$ is divisible by $m$, so $a_i$ is an $m$-th power.","source":"ProblemsInENT","id":"problem_16_2","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem coprime_power_product (r : ℕ) (a : Fin r → ℕ) (m : ℕ) \n  (ha_pos : ∀ i, 0 < a i)\n  (hm : 2 ≤ m) \n  (h_coprime : ∀ i j : Fin r, i ≠ j → Nat.gcd (a i) (a j) = 1)\n  (h_power : ∃ k : ℕ, (Finset.univ.prod a) = k^m) :\n  ∀ i : Fin r, ∃ k : ℕ, a i = k^m := by sorry","judge":true,"judge_content":"The formalization accurately captures the original problem statement. The assumptions ensure the integers are positive and pairwise coprime, and the product is an \\(m\\)-th power. The conclusion correctly states each integer is an \\(m\\)-th power. The indexing using `Fin r` and the use of natural numbers are consistent with the problem's context, and no ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:3.1}","question":"For any fixed $n \\ge 1$ we have $a \\equiv b \\pmod n$ if and only if $n | (a - b)$.","solution":"Putting $a = qn + r$ and $b = q'n + r'$, we have $a - b = (q - q')n + (r - r')$ with $-n < r - r' < n$. If $a \\equiv b \\pmod n$ then $r = r'$, so $r - r' = 0$ and $a - b = (q - q')n$, which is divisible by $n$. Conversely, if $n$ divides $a - b$ then it divides $(a - b) - (q - q')n = r - r'$; now the only integer strictly between $-n$ and $n$ which is divisible by $n$ is 0, so $r - r' = 0$, giving $r = r'$ and hence $a \\equiv b \\pmod n$.","source":"ProblemsInENT","id":"problem_25_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem congruence_mod_n_equivalence (n : ℕ) (a b : ℤ) (hn : n ≥ 1) : \n  a ≡ b [ZMOD n] ↔ (n : ℤ) ∣ (a - b) := by sorry","judge":true,"judge_content":"The formalization accurately captures the original statement. The theorem states that for a natural number `n ≥ 1` and integers `a, b`, congruence modulo `n` (in the integer sense) is equivalent to `n` dividing `a - b`. The hypothesis `hn : n ≥ 1` correctly restricts to positive moduli as specified, and the coercion `(n : ℤ)` appropriately handles divisibility in the integers. The equivalence `a ≡ b [ZMOD n] ↔ (n : ℤ) ∣ (a - b)` is a standard result in number theory and is correctly represented.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:3.2}","question":"For any fixed $n \\ge 1$ we have\n(a) $a \\equiv a$ for all integers $a$;\n(b) if $a \\equiv b$ then $b \\equiv a$;\n(c) if $a \\equiv b$ and $b \\equiv c$ then $a \\equiv c$.","solution":"(a) We have $n|(a - a)$ for all $a$.\n(b) If $n|(a - b)$ then $n|(b - a)$.\n(c) If $n|(a - b)$ and $n|(b - c)$ then $n|(a - b) + (b - c) = a - c$.","source":"ProblemsInENT","id":"problem_26_0","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem congruence_equivalence_mod_n (n : ℕ) (hn : n ≥ 1) :\n  (∀ a : ℤ, a ≡ a [ZMOD n]) ∧\n  (∀ a b : ℤ, a ≡ b [ZMOD n] → b ≡ a [ZMOD n]) ∧\n  (∀ a b c : ℤ, a ≡ b [ZMOD n] → b ≡ c [ZMOD n] → a ≡ c [ZMOD n]) := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. The theorem specifies a natural number `n ≥ 1` and asserts the reflexivity, symmetry, and transitivity of integer congruence modulo `n`, exactly matching the three given properties. The use of `ℤ` for integers and `[ZMOD n]` for congruence modulo `n` is appropriate, and the hypothesis `n ≥ 1` aligns with the condition in the original problem.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:3.3}","question":"For a given $n \\ge 1$, if $a' \\equiv a$ and $b' \\equiv b$ then $a' + b' \\equiv a + b$, $a' - b' \\equiv a - b$ and $a'b' \\equiv ab$.","solution":"If $a' \\equiv a$ then $a' = a + kn$ for some integer $k$, and similarly we have $b' = b + ln$ for some integer $l$; then $a' \\pm b' = (a \\pm b) + (k \\pm l)n \\equiv a \\pm b$, and $a'b' = ab + (al + bk + kln)n \\equiv ab$.","source":"ProblemsInENT","id":"problem_27_3","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\ntheorem equivalence_class_operations_well_defined (n : ℕ) (hn : n ≥ 1) :\n  ∀ (a b a' b' : ℤ), \n    (a' ≡ a [ZMOD n]) → \n    (b' ≡ b [ZMOD n]) → \n    (a' + b' ≡ a + b [ZMOD n]) ∧ \n    (a' - b' ≡ a - b [ZMOD n]) ∧ \n    (a' * b' ≡ a * b [ZMOD n]) := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. It specifies the modulus \\( n \\) as a natural number with \\( n \\geq 1 \\), uses integers for the values, and explicitly states the congruences modulo \\( n \\) for the hypotheses and conclusions. The Lean notation `[ZMOD n]` aligns with the intended meaning of modular arithmetic. No ambiguities or omissions are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:3.5}","question":"Let $f(x)$ be a polynomial with integer coefficients, and let $n \\ge 1$. If $a \\equiv b \\pmod n$ then $f(a) \\equiv f(b) \\pmod n$.","solution":"Write $f(x) = c_0 + c_1x + \\dots + c_kx^k$, where each $c_i \\in \\mathbb{Z}$. If $a \\equiv b \\pmod n$, then repeated use of Lemma 3.3 implies that $a^i \\equiv b^i$ for all $i \\ge 0$, so $c_i a^i \\equiv c_i b^i$ for all $i$, and hence $f(a) = \\sum c_i a^i \\equiv \\sum c_i b^i = f(b)$.","source":"ProblemsInENT","id":"problem_29_7","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem polynomial_modular_congruence (f : Polynomial ℤ) (n : ℕ) (hn : n ≥ 1) (a b : ℤ) \n  (h : a ≡ b [ZMOD n]) : f.eval a ≡ f.eval b [ZMOD n] := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. The polynomial is represented as `Polynomial ℤ` (integer coefficients), and the condition `n ≥ 1` is explicitly included. The congruence `a ≡ b [ZMOD n]` in Lean corresponds to the integer modulo relation, and the conclusion `f.eval a ≡ f.eval b [ZMOD n]` matches `f(a) ≡ f(b) (mod n)`. No ambiguities or omissions are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:3.9}","question":"(a) Let $m$ divide $a, b$ and $n$, and let $a' = a\/m, b' = b\/m$ and $n' = n\/m$; then $ax \\equiv b \\pmod n$ if and only if $a'x \\equiv b' \\pmod{n'}$.\n(b) Let $a$ and $n$ be coprime, let $m$ divide $a$ and $b$, and let $a' = a\/m$ and $b' = b\/m$; then $ax \\equiv b \\pmod n$ if and only if $a'x \\equiv b' \\pmod n$.","solution":"(a) We have $ax \\equiv b \\pmod n$ if and only if $ax - b = qn$ for some integer $q$; dividing by $m$, we see that this is equivalent to $a'x - b' = qn'$, that is, to $a'x \\equiv b' \\pmod{n'}$.\n(b) If $ax \\equiv b \\pmod n$, then as in (a) we have $ax - b = qn$ and hence $a'x - b' = qn\/m$; in particular, $m$ divides $qn$. Now $m$ divides $a$, which is coprime to $n$, so $m$ is also coprime to $n$ and hence $m$ must divide $q$ by Corollary 1.11(b). Thus $a'x - b' = (q\/m)n$ is a multiple of $n$, so $a'x \\equiv b' \\pmod n$. For the converse, if $a'x \\equiv b' \\pmod n$ then $a'x - b' = q'n$ for some integer $q'$, so multiplying through by $m$ we have $ax - b = mq'n$ and hence $ax \\equiv b \\pmod n$.","source":"ProblemsInENT","id":"problem_33_9","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem modular_congruence_equivalence : \n  (∀ (a b n m : ℕ), m ∣ a → m ∣ b → m ∣ n → \n    let a' := a \/ m\n    let b' := b \/ m  \n    let n' := n \/ m\n    ∀ x : ℤ, (a : ℤ) * x ≡ b [ZMOD n] ↔ (a' : ℤ) * x ≡ b' [ZMOD n']) ∧\n  (∀ (a b n m : ℕ), Nat.Coprime a n → m ∣ a → m ∣ b →\n    let a' := a \/ m\n    let b' := b \/ m\n    ∀ x : ℤ, (a : ℤ) * x ≡ b [ZMOD n] ↔ (a' : ℤ) * x ≡ b' [ZMOD n]) := by sorry","judge":true,"judge_content":"The Lean 4 formalization accurately captures both parts of the natural language statement. \n\n- Part (a) correctly assumes `m` divides `a`, `b`, and `n`, defines `a'`, `b'`, `n'` via natural number division (which is exact due to divisibility), and states the equivalence of congruences modulo `n` and `n'` for all integer `x`. \n- Part (b) correctly assumes `a` and `n` are coprime, `m` divides `a` and `b`, defines `a'` and `b'` similarly, and states the equivalence of congruences modulo the same `n` for all integer `x`. \n\nThe formalization handles edge cases such as `m = 0` correctly (the statements hold vacuously or trivially in these cases). There are no ambiguities, errors, or omissions.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:5.1}","question":"$[a]$ is a unit in $\\mathbb{Z}_n$ if and only if $\\gcd(a, n) = 1$.","solution":"If $[a]$ is a unit then $ab = 1 + qn$ for some integers $b$ and $q$; any common factor of $a$ and $n$ would therefore divide 1, so $\\gcd(a, n) = 1$. Conversely, if $\\gcd(a, n) = 1$ then $1 = au + nv$ for some $u$ and $v$ by Theorem 1.7, so $[u]$ is a multiplicative inverse of $[a]$.","source":"ProblemsInENT","id":"problem_44_1","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem unit_in_zn (a : ℤ) (n : ℕ) : \n  IsUnit (a : ZMod n) ↔ Int.gcd a n = 1 := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The theorem `unit_in_zn` states that for an integer `a` and natural number `n`, the residue class of `a` in `ZMod n` is a unit if and only if the greatest common divisor of `a` and `n` is 1. This aligns with the mathematical fact about units in the ring ℤₙ. The formalization handles the case `n = 0` correctly (where `ZMod 0` is isomorphic to ℤ, and the condition reduces to `|a| = 1`). The use of `Int.gcd` for integers and natural numbers (coerced appropriately) is appropriate, and the condition `Int.gcd a n = 1` is equivalent to the informal `gcd(a, n) = 1`.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:5.4}","question":"If $n = p^e$ where $p$ is prime, then $\\phi(n) = p^e - p^{e-1} = p^{e-1}(p - 1) = n(1 - \\frac{1}{p})$.","solution":"$\\phi(p^e)$ is the number of integers in $\\{1, \\dots, p^e\\}$ which are coprime to $p^e$, that is, not divisible by $p$; this set has $p^e$ members, of which $p^e\/p = p^{e-1}$ are multiples of $p$, so $\\phi(p^e) = p^e - p^{e-1}$.","source":"ProblemsInENT","id":"problem_47_5","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem totient_prime_power_formula (p e : ℕ) (hp : Nat.Prime p) (he : e > 0) :\n  Nat.totient (p^e) = (p^e) - (p^e) \/ p := by sorry","judge":true,"judge_content":"The formalization accurately captures the given mathematical statement. The condition `he : e > 0` is necessary and correctly included, as the formula for Euler's totient function φ(n) for n = p^e with prime p holds only for positive exponents e. In Lean, `(p^e) \/ p` computes to `p^(e-1)` due to exact divisibility, and the subtraction `(p^e) - (p^e)\/p` yields `p^e - p^(e-1)` as natural numbers. This matches the first equality in the natural language statement, and the other equivalent forms are not required in the formalization.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:5.5}","question":"If $A$ is a complete set of residues mod $(n)$, and if $m$ and $c$ are integers with $m$ coprime to $n$, then the set $Am + c = \\{am + c \\mid a \\in A\\}$ is also a complete set of residues mod $(n)$.","solution":"If $am + c \\equiv a'm + c \\pmod n$, where $a, a' \\in A$, then by subtracting $c$ and then cancelling the unit $m$, we see that $a \\equiv a' \\pmod n$, and hence $a = a'$. Thus the $n$ elements $am + c$ ($a \\in A$) all lie in different congruence classes, so they form a complete set of residues mod $(n)$.","source":"ProblemsInENT","id":"problem_48_1","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem complete_residue_set_transformation (n : ℕ) (A : Finset ℤ) (m c : ℤ) \n  (hn : n > 0)\n  (hA_complete : A.card = n ∧ ∀ a b : ℤ, a ∈ A → b ∈ A → a ≡ b [ZMOD n] → a = b)\n  (hm_coprime : Int.gcd m n = 1) :\n  let B := A.image (fun a => a * m + c)\n  B.card = n ∧ ∀ x y : ℤ, x ∈ B → y ∈ B → x ≡ y [ZMOD n] → x = y := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. The conditions on `A` as a complete set of residues modulo `n` are precisely represented by `A.card = n` and the pairwise incongruence condition. The transformation to `B` via an affine map with `m` coprime to `n` preserves the property of being a complete set of residues, as reflected in the conclusion. All types and conventions align with the informal mathematics, including the positivity of `n`, integer arithmetic, and coprimality.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:6.12}","question":"If $n = rs$ where $r$ and $s$ are coprime and are both greater than 2, then $U_n$ is not cyclic.","solution":"$\\phi(n) = \\phi(r)\\phi(s)$. Since $r,s > 2$, $\\phi(r)$ and $\\phi(s)$ are even. The exponent of $U_n$ is $\\text{lcm}(\\phi(r), \\phi(s))$, which divides $\\phi(n)\/2$. Thus $U_n$ has no element of order $\\phi(n)$.","source":"ProblemsInENT","id":"problem_63_0","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem u_group_not_cyclic_for_composite_with_coprime_factors (r s : ℕ) \n  (h1 : Nat.Coprime r s) \n  (h2 : r > 2) \n  (h3 : s > 2) : \n  ¬ IsCyclic (ZMod (r * s))ˣ := by sorry","judge":true,"judge_content":"The Lean 4 formalization correctly captures the original mathematical statement. The hypotheses require natural numbers `r` and `s` that are coprime and both greater than 2, and the conclusion states that the group of units modulo `r * s` is not cyclic. This aligns exactly with the informal statement about `U_n` when `n = rs`. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:6.1}","question":"$U_n$ is an abelian group under multiplication mod $(n)$.","solution":"Theorem 5.2 shows that $U_n$ is a group, and Exercise 5.2 shows that it is abelian.","source":"ProblemsInENT","id":"problem_52_1","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\ntheorem group_unit_multiplication_properties (n : ℕ) : \n  Nat.card (ZMod n)ˣ = Nat.totient n := by sorry","judge":false,"judge_content":"**Final Recommendation**: Incorrect\n\nThe given Lean 4 formalization states that the cardinality of the group of units of `ZMod n` equals Euler's totient function `n`, which is a true theorem. However, the original problem only asserts that \\( U_n \\) (the group of units modulo \\( n \\)) is an abelian group under multiplication. This is a structural property, not a cardinality one. The formalization does not capture the intended statement about the group being abelian, and thus it is not equivalent. Additionally, the problem statement does not include a boxed answer, but even if it did, the formalization would still be mismatched."}
{"label":"\\label{lem:6.2}","question":"If $l$ and $m$ are coprime positive integers, then $2^l - 1$ and $2^m - 1$ are coprime.","solution":"Let $n$ be the highest common factor of $2^l - 1$ and $2^m - 1$. Clearly $n$ is odd, so 2 is a unit mod $(n)$. Let $k$ be the order of the element 2 in $U_n$. Since $n$ divides $2^l - 1$ we have $2^l = 1$ in $U_n$, so $k$ divides $l$. Similarly $k$ divides $m$, so $k$ divides $\\gcd(l, m) = 1$. Thus $k = 1$, so $2^1 \\equiv 1 \\pmod n$, so $n = 1$.","source":"ProblemsInENT","id":"problem_53_3","formal_statement":"import Mathlib\n\ntheorem coprime_powers_of_two_minus_one (l m : ℕ) (hl : 0 < l) (hm : 0 < m) (h : Nat.Coprime l m) : \n  Nat.Coprime (2^l - 1) (2^m - 1) := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. The hypotheses require `l` and `m` to be positive natural numbers (`0 < l`, `0 < m`) and coprime (`Nat.Coprime l m`). The conclusion asserts that `2^l - 1` and `2^m - 1` are coprime in `ℕ`. Since `l, m > 0`, `2^l ≥ 2` and `2^m ≥ 2`, so the subtractions are well-defined in `ℕ` (no truncation issues). The statement is a known number theory result, and the formalization aligns perfectly with the natural language.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:6.4}","question":"An element $a \\in U_n$ is a primitive root if and only if $a^{\\phi(n)\/q} \\not\\equiv 1$ in $U_n$ for each prime $q$ dividing $\\phi(n)$.","solution":"If $a$ is a primitive root, then it has order $\\phi(n)$, so $a^i \\not\\equiv 1$ for all $i < \\phi(n)$; in particular for $i = \\phi(n)\/q$. Conversely, if $a$ is not a primitive root, its order $k$ is a proper factor of $\\phi(n)$, so $\\phi(n)\/k > 1$. If $q$ is any prime factor of $\\phi(n)\/k$, then $k$ divides $\\phi(n)\/q$, so $a^{\\phi(n)\/q} \\equiv 1$.","source":"ProblemsInENT","id":"problem_55_2","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem primitive_root_characterization (n : ℕ) (hn : 0 < n) (a : (ZMod n)ˣ) : \n  orderOf a = Nat.totient n ↔ \n  ∀ q : ℕ, Nat.Prime q → q ∣ Nat.totient n → (a : ZMod n) ^ (Nat.totient n \/ q) ≠ 1 := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The group \\(U_n\\) is represented as `(ZMod n)ˣ` in Lean, and the condition for being a primitive root is that the order of `a` equals Euler's totient function `φ(n)`. The equivalence stated in the theorem matches the given characterization using prime divisors of `φ(n)`. The use of natural number division and exponentiation in `ZMod n` is appropriate since `q` divides `φ(n)`, ensuring exact division. The coercion of the unit `a` to `ZMod n` for exponentiation is valid because the underlying element of the unit `a^(φ(n)\/q)` equals `(a : ZMod n)^(φ(n)\/q)`, and the comparison to `1` in `ZMod n` is equivalent to the comparison to the identity in the unit group.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:6.9}","question":"$2^{n+2} || 5^{2^n} - 1$ for all $n \\ge 0$.","solution":"Induction on $n$. Trivial for $n=0$. $5^{2^{n+1}} - 1 = (5^{2^n}-1)(5^{2^n}+1)$. By hypothesis $2^{n+2} || 5^{2^n}-1$. Since $5^{2^n} \\equiv 1 \\pmod 4$, $5^{2^n}+1 \\equiv 2 \\pmod 4$, so $2 || 5^{2^n}+1$. Thus $2^{n+3} || 5^{2^{n+1}}-1$.","source":"ProblemsInENT","id":"problem_60_7","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem divisibility_power_of_two : ∀ n : ℕ, (2^(n+2) ∣ 5^(2^n) - 1) ∧ ¬(2^(n+3) ∣ 5^(2^n) - 1) := by sorry","judge":true,"judge_content":"The formalization correctly captures the intended statement: for all natural numbers \\(n\\) (including 0), \\(2^{n+2}\\) exactly divides \\(5^{2^n} - 1\\), meaning \\(2^{n+2}\\) divides it and \\(2^{n+3}\\) does not. The use of natural numbers and subtraction in Lean is appropriate here, as \\(5^{2^n} \\ge 1\\) ensures the subtraction is well-defined in \\(\\mathbb{N}\\). There are no ambiguities or errors.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:7.1}","question":"If $a \\in Q_n$, then the number $N$ of elements $t \\in U_n$ such that $t^2 = a$ is given by $2^{k+1}$ if $n \\equiv 0 \\pmod 8$, $2^{k-1}$ if $n \\equiv 2 \\pmod 4$, and $2^k$ otherwise, where $k$ is the number of distinct prime factors of $n$.","solution":"$t^2 = a$ iff $(t s^{-1})^2 = 1$ where $s^2 = a$. $N$ is the number of solutions to $x^2 = 1$. By Example 3.18, this is given by the formula.","source":"ProblemsInENT","id":"problem_67_3","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem count_square_roots_mod_n (n : ℕ) (hn : 0 < n) (a : ZMod n) (h : a ∈ {x : ZMod n | ∃ t : (ZMod n)ˣ, t^2 = x}) :\n  let k := (Nat.primeFactors n).card\n  let U_n := (ZMod n)ˣ\n  let N := Set.ncard {t : U_n | (t : ZMod n)^2 = a}\n  (n % 8 = 0 → N = 2^(k + 1)) ∧\n  (n % 4 = 2 → N = 2^(k - 1)) ∧\n  (n % 8 ≠ 0 ∧ n % 4 ≠ 2 → N = 2^k) := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The conditions on `n` are appropriately represented using remainders modulo 8 and 4, and `k` is defined as the number of distinct prime factors. The set `Q_n` is formalized as the set of squares of units, and `N` counts the units whose square equals `a`. The implications cover all cases exactly as described.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:7.2}","question":"$Q_n$ is a subgroup of $U_n$.","solution":"$1 = 1^2 \\in Q_n$. If $a=s^2, b=t^2$, then $ab=(st)^2 \\in Q_n$. If $a=s^2$, then $a^{-1}=(s^{-1})^2 \\in Q_n$.","source":"ProblemsInENT","id":"problem_68_8","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem prove_subgroup_un (n : ℕ) (Q_n : Set (ZMod n)ˣ) \n  (h_closed : ∀ a b, a ∈ Q_n → b ∈ Q_n → a * b ∈ Q_n)\n  (h_one : (1 : (ZMod n)ˣ) ∈ Q_n)\n  (h_inv : ∀ a ∈ Q_n, a⁻¹ ∈ Q_n) :\n  ∃ (H : Subgroup (ZMod n)ˣ), H.carrier = Q_n := by sorry","judge":true,"judge_content":"The formalization correctly captures the statement that a set \\( Q_n \\) satisfying the subgroup axioms is the carrier of a subgroup of the unit group \\( U_n = ( \\mathbb{Z}\/n\\mathbb{Z} )^\\times \\). The hypotheses correspond exactly to the closure, identity, and inverse conditions required in Mathlib's subgroup definition, and the conclusion asserts the existence of such a subgroup with carrier \\( Q_n \\). There are no ambiguities or mismatches with conventions.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:7.3}","question":"Let $n > 2$, and suppose that there is a primitive root $g$ mod $(n)$; then $Q_n$ is a cyclic group of order $\\phi(n)\/2$, generated by $g^2$, consisting of the even powers of $g$.","solution":"$a = g^i \\in Q_n$ iff $g^i = (g^j)^2 = g^{2j}$, i.e., $i \\equiv 2j \\pmod{\\phi(n)}$. Since $\\phi(n)$ is even, this means $i$ is even.","source":"ProblemsInENT","id":"problem_69_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem quadratic_residue_inverse_property (n : ℕ) (hn : 2 < n) (QR : Subgroup (ZMod n)ˣ) \n    (hQR : ∀ x : (ZMod n)ˣ, x ∈ QR ↔ ∃ y : (ZMod n)ˣ, y^2 = x)\n    (A : Set (ZMod n)ˣ) (hA : A ⊆ QR) \n    (h_card : A.ncard > (A.image (fun x => x⁻¹)).ncard) :\n    ∃ x ∈ A, x⁻¹ ∈ A := by sorry","judge":false,"judge_content":"The formalization provided does not correspond to the original mathematical statement. The original statement describes the structure of the quadratic residues modulo \\(n\\) when a primitive root exists, asserting that \\(Q_n\\) is a cyclic group of order \\(\\phi(n)\/2\\) generated by \\(g^2\\). In contrast, the Lean formalization states a combinatorial property about a subset \\(A\\) of a subgroup of squares, which is unrelated to the existence of a primitive root or the cyclic structure of \\(Q_n\\). This discrepancy constitutes a fundamental mismatch.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{lem:8.10}","question":"The Dirichlet product is commutative and associative, and has $I$ as an identity.","solution":"Direct verification.","source":"ProblemsInENT","id":"problem_92_3","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem dirichlet_product_identity (f : ℕ → ℝ) : \n  let I : ℕ → ℝ := fun n => if n = 1 then 1 else 0\n  let dirichlet_product (f g : ℕ → ℝ) (n : ℕ) := ∑ d in (Nat.divisors n), f d * g (n \/ d)\n  ∀ n : ℕ, dirichlet_product f I n = f n ∧ dirichlet_product I f n = f n := by sorry","judge":false,"judge_content":"The provided Lean 4 formalization is **Incorrect** because it fails to capture the full original statement. The natural language asserts three distinct properties of the Dirichlet product: commutativity, associativity, and the existence of an identity element \\( I \\). However, the formalization only addresses the identity property, omitting any mention or proof of commutativity and associativity. Additionally, the formalization introduces local definitions (`I` and `dirichlet_product`) inside the theorem, which deviates from the expected structure of formalizing a general mathematical claim about the Dirichlet product.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{lem:8.11}","question":"If $f$ is an arithmetic function with $f(1) \\neq 0$, then there exists an arithmetic function $g$ such that $f * g = I = g * f$.","solution":"Define $g$ recursively.","source":"ProblemsInENT","id":"problem_93_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem dirichlet_convolution_inverse (R : Type*) [Field R] (f : ℕ → R) (hf : f 1 ≠ 0) :\n  ∃ g : ℕ → R, \n    (∀ n : ℕ, (∑ d in n.divisors, f d * g (n \/ d)) = if n = 1 then 1 else 0) ∧\n    (∀ n : ℕ, (∑ d in n.divisors, g d * f (n \/ d)) = if n = 1 then 1 else 0) := by sorry","judge":true,"judge_content":"The Lean 4 formalization correctly captures the natural language statement. The theorem asserts the existence of a Dirichlet inverse for an arithmetic function \\( f \\) with \\( f(1) \\neq 0 \\), which is exactly what the natural language statement describes. The formalization uses Dirichlet convolution over all natural numbers (including 0), which is consistent with Mathlib4's conventions and does not affect the core result, as the conditions for \\( n = 0 \\) are automatically satisfied by setting \\( g(0) = 0 \\). The codomain is generalized to an arbitrary field, which is a valid and common generalization.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:8.1}","question":"If $g$ is a multiplicative function and $f(n) = \\sum_{d|n} g(d)$ for all $n$, then $f$ is multiplicative.","solution":"If $m, n$ coprime, divisors of $mn$ are $ab$ where $a|m, b|n$. $\\sum_{d|mn} g(d) = \\sum_{a|m} \\sum_{b|n} g(ab) = \\sum g(a) g(b) = f(m)f(n)$.","source":"ProblemsInENT","id":"problem_83_7","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem sum_divisor_multiplicative_function (g : ℕ → ℤ) (hg : ∀ m n : ℕ, Nat.Coprime m n → g (m * n) = g m * g n) :\n  let f : ℕ → ℤ := fun n => ∑ d in n.divisors, g d\n  ∀ m n : ℕ, Nat.Coprime m n → f (m * n) = f m * f n := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The condition `hg` on `g` is equivalent to `g` being multiplicative (allowing the zero function) when restricted to positive integers, and the definition of `f` as a divisor sum is standard. The theorem holds for all natural numbers, including edge cases involving zero, which are handled appropriately in Mathlib.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{lem:8.5}","question":"Let $f$ and $g$ be multiplicative functions, with $f(p^e) = g(p^e)$ for all primes $p$ and integers $e \\ge 0$. Then $f = g$.","solution":"Follows from unique factorization and multiplicativity.","source":"ProblemsInENT","id":"problem_87_4","formal_statement":"import Mathlib\n\ntheorem multiplicative_function_equality (f g : ℕ → ℝ) \n  (hf : ∀ m n : ℕ, 0 < m → 0 < n → Nat.gcd m n = 1 → f (m * n) = f m * f n)\n  (hg : ∀ m n : ℕ, 0 < m → 0 < n → Nat.gcd m n = 1 → g (m * n) = g m * g n)\n  (h : ∀ p : ℕ, Nat.Prime p → ∀ e : ℕ, f (p ^ e) = g (p ^ e)) :\n  ∀ n : ℕ, 0 < n → f n = g n := by sorry","judge":true,"judge_content":"The formalization accurately represents the natural language statement when considering multiplicative functions defined on positive integers. The premises capture the multiplicative condition for coprime positive arguments and agreement on prime powers, including at 1 via \\(e = 0\\). The conclusion is restricted to positive \\(n\\), aligning with the typical domain of multiplicative functions. While the codomain is fixed to \\(\\mathbb{R}\\) and the condition does not explicitly require \\(f(1) = 1\\), these choices do not affect the validity of the theorem as formalized.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:1.12}","question":"Let $a$ and $b$ be positive integers, with $d = \\gcd(a, b)$ and $l = \\text{lcm}(a, b)$. Then $dl = ab$.","solution":"Let $e = a\/d$ and $f = b\/d$, and consider $ab\/d = de \\cdot df \/ d = def$. Clearly this is positive, so we can show that it is equal to $l$ by showing that it satisfies conditions (1) and (2) of the definition of $\\text{lcm}(a, b)$. First, $def = (de)f = af$ and $def = (df)e = be$; thus $a|def$ and $b|def$, so (1) is satisfied. Second, suppose that $a|c$ and $b|c$, with $c > 0$; we need to show that $def \\le c$. By Theorem 1.7 there exist integers $u$ and $v$ such that $d = au + bv$. Now $\\frac{c}{def} = \\frac{cd}{(de)(df)} = \\frac{cd}{ab} = \\frac{c(au + bv)}{ab} = (\\frac{c}{b})u + (\\frac{c}{a})v$ is an integer, since $a$ and $b$ are factors of $c$; thus $def|c$ and hence we have $def \\le c$, as required.","source":"ProblemsInENT","id":"problem_11_1","formal_statement":"theorem gcd_lcm_product (a b : Nat) (ha : a > 0) (hb : b > 0) :\n  (Nat.gcd a b) * (Nat.lcm a b) = a * b := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. The hypotheses `ha : a > 0` and `hb : b > 0` ensure that `a` and `b` are positive integers, aligning with the informal condition. The theorem `(Nat.gcd a b) * (Nat.lcm a b) = a * b` is the exact translation of \\(dl = ab\\) where \\(d = \\gcd(a,b)\\) and \\(l = \\operatorname{lcm}(a,b)\\). The use of `Nat` in Lean includes zero, but the positivity constraints exclude zero, matching the informal notion of positive integers. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:1.13}","question":"Let $a, b$ and $c$ be integers, with $a$ and $b$ not both 0, and let $d = \\gcd(a, b)$. Then the equation $ax + by = c$ has an integer solution $x, y$ if and only if $c$ is a multiple of $d$, in which case there are infinitely many solutions. These are the pairs $x = x_0 + \\frac{bn}{d}, \\quad y = y_0 - \\frac{an}{d} \\quad (n \\in \\mathbb{Z}),$ where $x_0, y_0$ is any particular solution.","solution":"The fact that there is a solution if and only if $d|c$ is merely a restatement of Theorem 1.8. For the second part of the theorem, let $x_0, y_0$ be a particular solution, so $ax_0 + by_0 = c$. If we put $x = x_0 + \\frac{bn}{d}, \\quad y = y_0 - \\frac{an}{d}$ where $n$ is any integer, then $ax + by = a(x_0 + \\frac{bn}{d}) + b(y_0 - \\frac{an}{d}) = ax_0 + by_0 = c$, so $x, y$ is also a solution. (Note that $x$ and $y$ are integers since $d$ divides $b$ and $a$ respectively.) This gives us infinitely many solutions, for different integers $n$. To show that these are the only solutions, let $x, y$ be any integer solution, so $ax + by = c$. Since $ax + by = c = ax_0 + by_0$ we have $a(x - x_0) + b(y - y_0) = 0$, so dividing by $d$ we get $\\frac{a}{d}(x - x_0) = -\\frac{b}{d}(y - y_0)$. Now $a$ and $b$ are not both 0, and we can suppose that $b \\neq 0$. Since $b\/d$ divides each side, and is coprime to $a\/d$ by Corollary 1.10, it divides $x - x_0$ by Corollary 1.11(b). Thus $x - x_0 = bn\/d$ for some integer $n$, so $x = x_0 + \\frac{bn}{d}$. Substituting back for $x - x_0$, we get $-\\frac{b}{d}(y - y_0) = \\frac{a}{d}(x - x_0) = \\frac{a}{d} \\frac{bn}{d}$, so dividing by $b\/d$ we have $y = y_0 - \\frac{an}{d}$.","source":"ProblemsInENT","id":"problem_12_7","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem linear_diophantine_solutions (a b c : ℤ) (h_not_both_zero : ¬(a = 0 ∧ b = 0)) \n  (d : ℤ) (h_d : d = Int.gcd a b) :\n  (∃ x y : ℤ, a * x + b * y = c) ↔ (d ∣ c) ∧\n  (∃ x₀ y₀ : ℤ, a * x₀ + b * y₀ = c ∧\n    ∀ x y : ℤ, a * x + b * y = c ↔ \n      ∃ n : ℤ, x = x₀ + (b * n) \/ d ∧ y = y₀ - (a * n) \/ d) := by sorry","judge":true,"judge_content":"The formalization accurately captures the natural language statement. The hypotheses correctly require that `a` and `b` are not both zero and that `d` is the gcd of `a` and `b`. The equivalence stated in the theorem matches the informal condition for the existence of integer solutions and the characterization of all solutions via a particular solution. The use of integer division in Lean is appropriate because `d` divides both `a` and `b`, ensuring exact division in the parametric formulas. No ambiguities, errors, or omissions are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:1.1}","question":"If $a$ and $b$ are integers with $b > 0$, then there is a unique pair of integers $q$ and $r$ such that $a = qb + r$ and $0 \\le r < b$.","solution":"First we prove existence. Let $S = \\{a - nb \\mid n \\in \\mathbb{Z}\\} = \\{ a, a \\pm b, a \\pm 2b, \\dots \\} .$ This set of integers contains non-negative elements (take $n = -|a|$), so $S \\cap \\mathbb{N}$ is a non-empty subset of $\\mathbb{N}$; by the well-ordering principle, $S \\cap \\mathbb{N}$ has a least element, which has the form $r = a - qb \\ge 0$ for some integer $q$. Thus $a = qb + r$ with $r \\ge 0$. If $r \\ge b$ then $S$ contains a non-negative element $a - (q + 1)b = r - b < r$; this contradicts the minimality of $r$, so we must have $r < b$.\nTo prove uniqueness, suppose that $a = qb + r = q'b + r'$ with $0 \\le r < b$ and $0 \\le r' < b$, so $r - r' = (q' - q)b$. If $q' \\neq q$ then $|q' - q| \\ge 1$, so $|r - r'| \\ge |b| = b$, which is impossible since $r$ and $r'$ lie between $0$ and $b-1$ inclusive. Hence $q' = q$ and so $r' = r$.","source":"ProblemsInENT","id":"problem_0_9","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem division_algorithm_proof (a b : ℤ) (hb : 0 < b) : \n  ∃! (qr : ℤ × ℤ), a = qr.1 * b + qr.2 ∧ 0 ≤ qr.2 ∧ qr.2 < b := by sorry","judge":true,"judge_content":"The formalization accurately captures the division algorithm for integers. It specifies that for any integers `a` and `b` with `b > 0`, there exists a unique pair of integers `(q, r)` such that `a = q * b + r` and `0 ≤ r < b`. The use of `∃!` ensures uniqueness, and the conditions on `r` are correctly expressed. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:1.3}","question":"(a) If $c$ divides $a_1, \\dots, a_k$, then $c$ divides $a_1 u_1 + \\dots + a_k u_k$ for all integers $u_1, \\dots, u_k$.\n(b) $a|b$ and $b|a$ if and only if $a = \\pm b$.","solution":"(a) If $c$ divides $a_i$ then $a_i = q_i c$ for some integers $q_i$ ($i = 1, \\dots, k$). Then $a_1 u_1 + \\dots + a_k u_k = q_1 c u_1 + \\dots + q_k c u_k = (q_1 u_1 + \\dots + q_k u_k)c$, and as $q_1 u_1 + \\dots + q_k u_k$ is an integer (since $q_i$ and $u_i$ are) we see that $c|(a_1 u_1 + \\dots + a_k u_k)$.\n(b) If $a = \\pm b$ then $b = qa$ and $a = q'b$ where $q = q' = \\pm 1$, so $a|b$ and $b|a$. Conversely, let $a|b$ and $b|a$, so $b = qa$ and $a = q'b$ for some integers $q$ and $q'$. If $b = 0$ then the second equation gives $a = 0$, so $a = \\pm b$ as required. We can therefore assume that $b \\neq 0$. Eliminating $a$ from the two equations, we have $b = qq'b$; cancelling $b$ (possible since $b \\neq 0$) we have $qq' = 1$, so $q, q' = \\pm 1$ and hence $a = \\pm b$.","source":"ProblemsInENT","id":"problem_2_3","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem linear_combination_divisibility : \n  (∀ (k : ℕ) (c : ℤ) (a : Fin k → ℤ) (u : Fin k → ℤ), \n    (∀ i, c ∣ a i) → c ∣ (∑ i, a i * u i)) ∧\n  (∀ a b : ℤ, (a ∣ b ∧ b ∣ a) ↔ (a = b ∨ a = -b)) := by sorry","judge":true,"judge_content":"The formalization correctly captures both parts of the original problem:\n\n1. **Part (a)**: The statement \"If \\(c\\) divides \\(a_1, \\dots, a_k\\), then \\(c\\) divides \\(a_1 u_1 + \\dots + a_k u_k\\) for all integers \\(u_1, \\dots, u_k\\)\" is formalized as  \n   \\(\\forall (k : \\mathbb{N}) (c : \\mathbb{Z}) (a : \\text{Fin } k \\to \\mathbb{Z}) (u : \\text{Fin } k \\to \\mathbb{Z}), (\\forall i, c \\mid a_i) \\rightarrow c \\mid \\sum_i a_i \\cdot u_i\\).  \n   This precisely represents the linear combination with arbitrary integer coefficients \\(u_i\\) and includes the edge case \\(k = 0\\) (where the sum is 0 and divisibility holds), which is mathematically valid and not excluded by the original statement.\n\n2. **Part (b)**: The statement \"\\(a \\mid b\\) and \\(b \\mid a\\) if and only if \\(a = \\pm b\\)\" is formalized as  \n   \\(\\forall a b : \\mathbb{Z}, (a \\mid b \\land b \\mid a) \\leftrightarrow (a = b \\lor a = -b)\\).  \n   This exactly matches the integer divisibility condition and the equivalence with \\(a\\) being equal to \\(b\\) or its negative.\n\nBoth parts are correctly expressed in Lean using integer arithmetic without any ambiguity or deviation from the original meaning.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:1.6}","question":"In the Euclidean algorithm calculation, we have $d = r_{n-1}$ (the last non-zero remainder).","solution":"By applying Lemma 1.5 to the successive equations for $a, b, r_1, \\dots, r_{n-3}$ we see that $d = \\gcd(a, b) = \\gcd(b, r_1) = \\gcd(r_1, r_2) = \\dots = \\gcd(r_{n-2}, r_{n-1})$. The last equation $r_{n-2} = q_n r_{n-1}$ shows that $r_{n-1}|r_{n-2}$, so $\\gcd(r_{n-2}, r_{n-1}) = r_{n-1}$ and hence $d = r_{n-1}$.","source":"ProblemsInENT","id":"problem_5_6","formal_statement":"import Mathlib.Data.Int.GCD\n\ntheorem extended_euclidean_coefficients : \n  let a : ℤ := 37\n  let b : ℤ := 12\n  let d : ℤ := Int.gcd a b\n  ∃ x y : ℤ, d = a * x + b * y ∧ x = Int.gcdA a b ∧ y = Int.gcdB a b := by sorry","judge":false,"judge_content":"The natural language statement describes a general property of the Euclidean algorithm: the GCD is the last non-zero remainder. However, the provided Lean 4 formalization does not capture this property. Instead, it formalizes a specific instance of the extended Euclidean algorithm for a fixed pair of integers (37 and 12), asserting the existence of Bézout coefficients. This mismatch in content—general property versus specific example—and the absence of any mention of remainders or the Euclidean algorithm process means the formalization does not represent the original statement.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{thm:1.7}","question":"If $a$ and $b$ are integers (not both 0), then there exist integers $u$ and $v$ such that $\\gcd(a, b) = au + bv$.","solution":"We use the equations which arise when we apply Euclid's algorithm to calculate $d = \\gcd(a, b)$ as the last non-zero remainder $r_{n-1}$. The penultimate equation, in the form $r_{n-1} = r_{n-3} - q_{n-1}r_{n-2}$, expresses $d$ as a multiple of $r_{n-3}$ plus a multiple of $r_{n-2}$. We then use the previous equation, in the form $r_{n-2} = r_{n-4} - q_{n-2}r_{n-3}$, to eliminate $r_{n-2}$ and express $d$ as a multiple of $r_{n-4}$ plus a multiple of $r_{n-3}$. We gradually work backwards through the equations in the algorithm, eliminating $r_{n-3}, r_{n-4}, \\dots$ in succession, until eventually we have expressed $d$ as a multiple of $a$ plus a multiple of $b$, that is, $d = au + bv$ for some integers $u$ and $v$.","source":"ProblemsInENT","id":"problem_6_0","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem bezout_identity_proof (a b : ℤ) (h : a ≠ 0 ∨ b ≠ 0) : \n  ∃ u v : ℤ, Int.gcd a b = a * u + b * v := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The condition `a ≠ 0 ∨ b ≠ 0` is equivalent to \"not both zero,\" and the conclusion `∃ u v : ℤ, Int.gcd a b = a * u + b * v` exactly represents Bézout's identity for integers. The coercion from `ℕ` to `ℤ` for `Int.gcd a b` is handled implicitly by Lean, preserving the intended meaning.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:1.8}","question":"Let $a$ and $b$ be integers (not both 0) with greatest common divisor $d$. Then an integer $c$ has the form $ax + by$ for some $x, y \\in \\mathbb{Z}$ if and only if $c$ is a multiple of $d$. In particular, $d$ is the least positive integer of the form $ax + by$ ($x, y \\in \\mathbb{Z}$).","solution":"If $c = ax + by$ where $x, y \\in \\mathbb{Z}$, then since $d$ divides $a$ and $b$, Corollary 1.4 implies that $d$ divides $c$. Conversely, if $c = de$ for some integer $e$, then by writing $d = au + bv$ (as in Theorem 1.7) we get $c = aue + bve = ax + by$, where $x = ue$ and $y = ve$ are both integers. Thus the integers of the form $ax + by$ ($x, y \\in \\mathbb{Z}$) are the multiples of $d$, and the least positive integer of this form is the least positive multiple of $d$, namely $d$ itself.","source":"ProblemsInENT","id":"problem_7_4","formal_statement":"theorem gcd_linear_combination_characterization \n  (a b : Int) (h : ¬(a = 0 ∧ b = 0)) : \n  let d := Int.gcd a b\n  -- Part 1: Characterization of multiples of d\n  (∀ c : Int, \n    (∃ x y : Int, c = a * x + b * y) ↔ ∃ k : Int, c = d * k) ∧\n  -- Part 2: Minimality of d\n  (∃ x y : Int, d = a * x + b * y) ∧  -- d is a linear combination\n  (∀ x y : Int, 0 < a * x + b * y → d ≤ a * x + b * y)  -- d is minimal positive\n  := by sorry","judge":true,"judge_content":"The formalization accurately captures the original mathematical statement. The hypothesis `¬(a = 0 ∧ b = 0)` ensures that `a` and `b` are not both zero, corresponding to the natural language condition. The definition `d := Int.gcd a b` correctly represents the greatest common divisor, which is positive under the given hypothesis. The three conjuncts in the conclusion correspond precisely to:\n1. The equivalence between being a linear combination of `a` and `b` and being a multiple of `d`.\n2. The existence of a representation of `d` as a linear combination (Bézout's identity).\n3. The minimality of `d` among positive linear combinations.\n\nAll parts align with the natural language statement, and no ambiguities or omissions are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:10.10}","question":"Let $\\Lambda$ be a lattice in $\\mathbb{R}^n$ with fundamental region $F$, and let $X$ be a centrally symmetric convex set in $\\mathbb{R}^n$ with $\\text{vol}(X) > 2^n \\text{vol}(F)$. Then $X$ contains a non-zero lattice-point of $\\Lambda$.","solution":"Apply Lemma 10.9 to $2\\Lambda$ and $X$. Use convexity and symmetry.","source":"ProblemsInENT","id":"problem_117_4","formal_statement":"import Mathlib\n\nopen MeasureTheory MeasureTheory.Measure Set Topology\n\n\/-- Minkowski's convex body theorem: If X is a centrally symmetric convex set with \n    volume greater than 2^n times the volume of a fundamental region for lattice Λ,\n    then X contains a non-zero lattice point. -\/\ntheorem minkowski_convex_body_theorem (n : ℕ) (Λ : AddSubgroup (Fin n → ℝ)) \n  (F : Set (Fin n → ℝ))\n  (X : Set (Fin n → ℝ))\n  (hΛ : ∃ (B : Fin n → (Fin n → ℝ)), LinearIndependent ℝ B ∧ \n        Submodule.span ℝ (Set.range B) = ⊤ ∧ \n        ∀ x : Fin n → ℝ, x ∈ Λ ↔ ∃ (c : Fin n → ℤ), x = ∑ i, c i • B i)\n  (hF : ∀ x y, x ∈ F → y ∈ Λ → (∀ z, z ∈ F → z ≠ x + y)) -- Translates of F by Λ are disjoint\n  (hF_cover : ∀ x : Fin n → ℝ, ∃ y ∈ Λ, ∃ z ∈ F, x = y + z) -- F with translates covers all of ℝ^n\n  (hX_symm : ∀ x, x ∈ X ↔ -x ∈ X)\n  (hX_conv : Convex ℝ X)\n  (hvol : volume X > 2^n * volume F) :\n  ∃ p : Fin n → ℝ, p ∈ Λ ∧ p ≠ 0 ∧ p ∈ X := sorry","judge":false,"judge_content":"The formalization contains significant errors and omissions that deviate from the natural language statement.\n\n1. **Incorrect disjointness condition for the fundamental region**: The condition `hF` is stated as `∀ x y, x ∈ F → y ∈ Λ → (∀ z, z ∈ F → z ≠ x + y)`. This condition forces `F` to be empty, as it leads to a contradiction when `y = 0` (since `x ∈ F` implies `x ≠ x`). A correct formalization should express that translates of `F` by distinct lattice points are disjoint, e.g., `∀ y1 y2 ∈ Λ, ∀ z1 z2 ∈ F, y1 + z1 = y2 + z2 → y1 = y2`.\n\n2. **Missing measurability assumptions**: The natural language statement involves volumes, implying that `X` and `F` are measurable sets. The formalization does not include `MeasurableSet X` and `MeasurableSet F` hypotheses, which are necessary for the volume comparisons to be meaningful in the context of Lebesgue measure.\n\nThese issues render the formalization incorrect and inconsistent with the intended theorem.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{thm:10.2}","question":"Each prime $p \\equiv 1 \\pmod 4$ is a sum of two squares.","solution":"Descent method using the existence of $u$ such that $u^2 \\equiv -1 \\pmod p$.","source":"ProblemsInENT","id":"problem_109_2","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem sum_of_squares_theorem (p : ℕ) (hp_prime : Nat.Prime p) (hp_mod : p % 4 = 1) : \n  ∃ a b : ℕ, p = a^2 + b^2 := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement: for every prime natural number \\( p \\) such that \\( p \\equiv 1 \\pmod{4} \\), there exist natural numbers \\( a \\) and \\( b \\) with \\( p = a^2 + b^2 \\). The condition `p % 4 = 1` accurately represents the congruence modulo 4 in natural numbers, and `Nat.Prime p` ensures \\( p \\) is prime. The use of `ℕ` for the squares is equivalent to integers since squares are nonnegative. No auxiliary definitions are present, and the statement aligns perfectly with the mathematical theorem.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:10.3}","question":"A positive integer $n$ is a sum of two squares if and only if every prime $q \\equiv 3 \\pmod 4$ divides $n$ to an even power.","solution":"Use the property of primes in $S_2$.","source":"ProblemsInENT","id":"problem_110_8","formal_statement":"import Mathlib.NumberTheory.SumTwoSquares\nimport Mathlib.NumberTheory.ArithmeticFunction\n\ntheorem sum_two_squares_characterization (n : ℕ) (hn : 0 < n) :\n  (∃ a b : ℕ, a^2 + b^2 = n) ↔ \n  (∀ p : ℕ, Nat.Prime p → p % 4 = 3 → Even (Nat.factorization n p)) := by sorry","judge":true,"judge_content":"The formalization accurately captures the original statement. The left-hand side expresses that \\( n \\) is a sum of two squares of natural numbers, which is equivalent to the informal notion since squares are nonnegative. The right-hand side correctly quantifies over all primes \\( p \\) congruent to 3 modulo 4 and requires the exponent in the prime factorization of \\( n \\) to be even, using `Even (Nat.factorization n p)`. The hypothesis `0 < n` ensures positivity as stated. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:10.6}","question":"Every non-negative integer is a sum of four squares.","solution":"Prove for primes using descent.","source":"ProblemsInENT","id":"problem_113_2","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem four_square_sum_theorem : ∀ n : ℕ, ∃ a b c d : ℤ, (n : ℤ) = a^2 + b^2 + c^2 + d^2 := by sorry","judge":true,"judge_content":"The formalization correctly represents Lagrange's four-square theorem, stating that every natural number (including 0) can be expressed as the sum of four integer squares. The use of `ℕ` for non-negative integers and `ℤ` for the squares aligns with standard mathematical conventions, and the coercion of `n` to `ℤ` ensures proper arithmetic in the integer domain. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:11.2}","question":"There is no Pythagorean triple $(a, b, c)$ with $a = b$.","solution":"Descent argument.","source":"ProblemsInENT","id":"problem_118_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem pythagorean_triple_no_equal_legs : ¬∃ a b c : ℕ, a > 0 ∧ b > 0 ∧ c > 0 ∧ a^2 + b^2 = c^2 ∧ a = b := by sorry","judge":true,"judge_content":"The formalization accurately captures the intended statement that there is no Pythagorean triple with equal legs. It correctly requires natural numbers to be positive, aligning with the conventional definition of Pythagorean triples, and uses the standard condition \\(a^2 + b^2 = c^2\\) along with \\(a = b\\). There are no ambiguities or errors in the representation.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:11.3}","question":"If $u$ and $v$ are coprime positive integers of opposite parity, with $u > v$, then the numbers $a = u^2 - v^2$, $b = 2uv$, $c = u^2 + v^2$ form a primitive Pythagorean triple. Conversely, every primitive Pythagorean triple is given by this form.","solution":"Verification and descent logic.","source":"ProblemsInENT","id":"problem_119_6","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem primitive_pythagorean_triple_generation : \n  ∀ (a b c : ℕ), \n    (a > 0 ∧ b > 0 ∧ c > 0 ∧ a^2 + b^2 = c^2 ∧ Nat.gcd (Nat.gcd a b) c = 1) ↔ \n    (∃ (u v : ℕ), u > 0 ∧ v > 0 ∧ Nat.gcd u v = 1 ∧ (u % 2) ≠ (v % 2) ∧ u > v ∧ \n      a = u^2 - v^2 ∧ b = 2 * u * v ∧ c = u^2 + v^2) := by sorry","judge":false,"judge_content":"The natural language statement is a standard characterization of primitive Pythagorean triples, but it is ambiguous and incomplete. Specifically, the converse claim that \"every primitive Pythagorean triple is given by this form\" fails to account for the order of the legs: the generated triple always has the odd leg first (as \\(a = u^2 - v^2\\)) and the even leg second (as \\(b = 2uv\\)). However, primitive triples such as \\((4,3,5)\\) have the even leg first and odd leg second, which cannot be expressed in the exact form \\(a = u^2 - v^2\\), \\(b = 2uv\\), \\(c = u^2 + v^2\\) under the given conditions. The Lean formalization strictly enforces this order, resulting in a false equivalence. Therefore, the formalization does not correctly capture the intended theorem due to the ambiguity and omission in the natural language statement.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{thm:11.5}","question":"There are no positive integer solutions $x, y$ and $z$ of $x^4 + y^4 = z^2$.","solution":"Infinite descent.","source":"ProblemsInENT","id":"problem_121_0","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem no_positive_solutions_diophantine : ¬ ∃ (x y z : ℕ), x > 0 ∧ y > 0 ∧ z > 0 ∧ x^4 + y^4 = z^2 := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement that there are no positive integer solutions to \\(x^4 + y^4 = z^2\\). It uses the natural number type `ℕ` with explicit conditions `x > 0`, `y > 0`, and `z > 0` to represent positive integers, aligning with standard conventions in Lean. The expression `x^4 + y^4 = z^2` is appropriately defined in `ℕ`. No ambiguities or omissions are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:11.8}","question":"Let $p$ and $q$ be odd primes such that (1) if $x^p + y^p + z^p \\equiv 0 \\pmod q$ then $x, y$ or $z \\equiv 0 \\pmod q$; (2) the class $[p]$ is not a $p$-th power in $\\mathbb{Z}_q$. Then case I of FLT is true for exponent $p$.","solution":" Sophie Germain's proof method.","source":"ProblemsInENT","id":"problem_124_0","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem flt_case_i_sufficiency (p q : ℕ) (hp : Nat.Prime p) (hq : Nat.Prime q) (hp_odd : Odd p) (hq_odd : Odd q) :\n  (∀ x y z : ZMod q, x^p + y^p + z^p = 0 → x = 0 ∨ y = 0 ∨ z = 0) →\n  (¬∃ a : ZMod q, a^p = (p : ZMod q)) →\n  ¬∃ x y z : ℤ, x^p + y^p = z^p ∧ ¬(p : ℤ) ∣ (x * y * z) := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. Both conditions and the conclusion are precisely translated into Lean 4, accounting for the necessary conventions. The assumptions about primality and oddness are explicitly included, and the modular condition and non-existence of a \\(p\\)-th power are accurately represented in `ZMod q`. The conclusion about Fermat's Last Theorem case I is equivalently stated in terms of integer solutions.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:2.3}","question":"Each integer $n > 1$ has a prime-power factorisation $n = p_1^{e_1} \\dots p_k^{e_k}$, where $p_1, \\dots, p_k$ are distinct primes and $e_1, \\dots, e_k$ are positive integers; this factorisation is unique, apart from permutations of the factors.","solution":"First we use the principle of strong induction to prove the existence of prime-power factorisations. Since we are assuming that $n > 1$, the induction starts with $n = 2$. As usual, this case is easy: the required factorisation is simply $n = 2^1$. Now assume that $n > 2$ and that every integer strictly between 1 and $n$ has a prime-power factorisation. If $n$ is prime then $n = n^1$ is the required factorisation of $n$, so we can assume that $n$ is composite, say $n = ab$ where $1 < a, b < n$. By the induction hypothesis, both $a$ and $b$ have prime-power factorisations, so by substituting these into the equation $n = ab$ and then collecting together powers of each prime $p_i$ we get a prime-power factorisation of $n$. Now we prove uniqueness. Suppose that $n$ has prime-power factorisations $n = p_1^{e_1} \\dots p_k^{e_k} = q_1^{f_1} \\dots q_l^{f_l}$, where $p_1, \\dots, p_k$ and $q_1, \\dots, q_l$ are two sets of distinct primes, and the exponents $e_i$ and $f_j$ are all positive. The first factorisation shows that $p_1|n$, so Corollary 2.2 (applied to the second factorisation) implies that $p_1|q_j$ for some $j = 1, \\dots, l$. By permuting the prime-powers in the second factorisation we may assume that $j = 1$, so $p_1|q_1$. Since $q_1$ is prime, it follows that $p_1 = q_1$, so cancelling this prime from the two factorisations we get $p_1^{e_1-1} p_2^{e_2} \\dots p_k^{e_k} = q_1^{f_1-1} q_2^{f_2} \\dots q_l^{f_l}$. We keep repeating this argument until we run out of primes in one of the factorisations. If one factorisation runs out before the other, then at that stage our reduced factorisations express 1 as a product of primes, which is impossible. It follows that both factorisations run out of primes simultaneously, so $k=l$, each $p_i=q_i$ (after permuting), and each $e_i=f_i$.","source":"ProblemsInENT","id":"problem_15_1","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem prime_power_factorization (n : ℕ) (hn : n > 1) : \n  ∃ (primes : Finset ℕ) (exponents : ℕ → ℕ), \n    (∀ p ∈ primes, Nat.Prime p) ∧\n    (∀ p ∈ primes, exponents p > 0) ∧\n    (n = primes.prod (fun p => p ^ exponents p)) ∧\n    (∀ (primes' : Finset ℕ) (exponents' : ℕ → ℕ), \n      (∀ p ∈ primes', Nat.Prime p) →\n      (∀ p ∈ primes', exponents' p > 0) →\n      (n = primes'.prod (fun p => p ^ exponents' p)) →\n      primes = primes' ∧ ∀ p ∈ primes, exponents p = exponents' p)\n  := by sorry","judge":true,"judge_content":"The formalization accurately captures the natural language statement. It asserts the existence of a finite set of distinct primes and a corresponding exponent function (with positive exponents on that set) such that the product equals \\(n\\). The uniqueness condition, requiring that any other representation with the same properties must have the same set of primes and the same exponents for each prime, correctly formalizes uniqueness up to permutation. There are no issues with conventions, types, or logical structure.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:2.6}","question":"There are infinitely many primes.","solution":"The proof is by contradiction: we assume that there are only finitely many primes, and then we obtain a contradiction. Suppose then that the only primes are $p_1, p_2, \\dots, p_k$. Let $m = p_1 p_2 \\dots p_k + 1$. Since $m$ is an integer greater than 1, Theorem 2.3 implies that it is divisible by some prime $p$. By our assumption, this prime $p$ must be one of the primes $p_1, p_2, \\dots, p_k$, so $p$ divides their product $p_1 p_2 \\dots p_k$. Since $p$ divides both $m$ and $p_1 p_2 \\dots p_k$ it divides $m - p_1 p_2 \\dots p_k = 1$, which is impossible. We deduce that our initial assumption was false, so there must be infinitely many primes.","source":"ProblemsInENT","id":"problem_18_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem infinitely_many_primes : Set.Infinite {p : ℕ | Nat.Prime p} := by sorry","judge":true,"judge_content":"The formalization correctly captures the statement that there are infinitely many prime numbers in ℕ, with `Nat.Prime` appropriately defining primality and `Set.Infinite` representing the infinitude of the set. No conventions are violated, and the formalization aligns precisely with the natural language claim.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:2.9}","question":"There are infinitely many primes of the form $4q + 3$.","solution":"The proof is by contradiction. Suppose that there are only finitely many primes of this form, say $p_1, \\dots, p_k$. Let $m = 4p_1 \\dots p_k - 1$, so $m$ also has the form $4q + 3$ (with $q = p_1 \\dots p_k - 1$). Since $m$ is odd, so is each prime $p$ dividing $m$, so $p$ has the form $4q + 1$ or $4q + 3$ for some $q$. If each such $p$ has the form $4q + 1$, then $m$ (being a product of such integers) must also have this form, which is false. Hence $m$ must be divisible by at least one prime $p$ of the form $4q + 3$. By our assumption, $p = p_i$ for some $i$, so $p$ divides $4p_1 \\dots p_k - m = 1$, which is impossible. This contradiction proves the result.","source":"ProblemsInENT","id":"problem_21_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem mod4_prime_infinite : Set.Infinite {p : ℕ | Nat.Prime p ∧ p % 4 = 3} := by sorry","judge":true,"judge_content":"**Final Recommendation**: Correct"}
{"label":"\\label{thm:3.10}","question":"Let $n_1, n_2, \\dots, n_k$ be positive integers, with $\\gcd(n_i, n_j) = 1$ whenever $i \\neq j$, and let $a_1, a_2, \\dots, a_k$ be any integers. Then the solutions of the simultaneous congruences $x \\equiv a_1 \\pmod{n_1}, \\dots, x \\equiv a_k \\pmod{n_k}$ form a single congruence class mod $(n)$, where $n = n_1 n_2 \\dots n_k$.","solution":"Let $c_i = n\/n_i = n_1 \\dots n_{i-1} n_{i+1} \\dots n_k$ for each $i = 1, \\dots, k$. Since each of its factors $n_j$ ($j \\neq i$) is coprime to $n_i$, so is $c_i$. Corollary 3.8 therefore implies that for each $i$, the congruence $c_i x \\equiv 1 \\pmod{n_i}$ has a single congruence class $[d_i]$ of solutions mod $(n_i)$. We now claim that the integer $x_0 = a_1 c_1 d_1 + a_2 c_2 d_2 + \\dots + a_k c_k d_k$ simultaneously satisfies the given congruences, that is, $x_0 \\equiv a_i \\pmod{n_i}$ for each $i$. To see this, note that each $c_j$ (other than $c_i$) is divisible by $n_i$, so $a_j c_j d_j \\equiv 0$ and hence $x_0 \\equiv a_i c_i d_i \\pmod{n_i}$; now $c_i d_i \\equiv 1$, by choice of $d_i$, so $x_0 \\equiv a_i$ as required. Thus $x_0$ is a solution of the simultaneous congruences, and it immediately follows that the entire congruence class $[x_0]$ of $x_0$ mod $(n)$ consists of solutions. To see that this class is unique, suppose that $x$ is any solution; then $x \\equiv a_i \\equiv x_0 \\pmod{n_i}$ for all $i$, so each $n_i$ divides $x - x_0$. Since $n_1, \\dots, n_k$ are mutually coprime, repeated use of Corollary 1.11(a) shows that their product $n$ also divides $x - x_0$, so $x \\equiv x_0 \\pmod n$.","source":"ProblemsInENT","id":"problem_34_6","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem chinese_remainder_theorem (k : ℕ) (n : Fin k → ℕ+) (a : Fin k → ℤ) \n  (h_coprime : ∀ i j : Fin k, i ≠ j → Nat.gcd (n i) (n j) = 1) :\n  ∃ x₀ : ℤ, ∀ x : ℤ, (∀ i : Fin k, (x : ZMod (n i)) = (a i : ZMod (n i))) ↔ \n    (x : ZMod (∏ i : Fin k, (n i : ℕ))) = (x₀ : ZMod (∏ i : Fin k, (n i : ℕ))) := by sorry","judge":true,"judge_content":"**Final Recommendation**: Correct\n\nThe Lean 4 formalization accurately captures the natural language statement of the Chinese Remainder Theorem:\n\n- The positive integers \\(n_i\\) are represented as `Fin k → ℕ+`, ensuring each is positive.\n- The pairwise coprime condition \\(\\gcd(n_i, n_j) = 1\\) for \\(i \\neq j\\) is correctly formalized as `∀ i j : Fin k, i ≠ j → Nat.gcd (n i) (n j) = 1`, using the natural number GCD.\n- The integers \\(a_i\\) are given as `Fin k → ℤ`.\n- The conclusion states the existence of an integer \\(x_0\\) such that for all integers \\(x\\), the simultaneous congruences \\(x \\equiv a_i \\pmod{n_i}\\) hold if and only if \\(x \\equiv x_0 \\pmod{n_1 n_2 \\cdots n_k}\\). This is precisely expressed using `ZMod` for the moduli and the product `∏ i : Fin k, (n i : ℕ)`.\n\nThe formalization handles edge cases like \\(k = 0\\) or \\(k = 1\\) correctly and aligns with Lean conventions without requiring auxiliary definitions."}
{"label":"\\label{thm:3.11}","question":"Let $n = n_1 \\dots n_k$ where the integers $n_i$ are mutually coprime, and let $f(x)$ be a polynomial with integer coefficients. Suppose that for each $i = 1, \\dots, k$ there are $N_i$ congruence classes $x \\in \\mathbb{Z}_{n_i}$ such that $f(x) \\equiv 0 \\pmod{n_i}$. Then there are $N = N_1 \\dots N_k$ classes $x \\in \\mathbb{Z}_n$ such that $f(x) \\equiv 0 \\pmod n$.","solution":"Since the moduli $n_i$ are mutually coprime, we have $f(x) \\equiv 0 \\pmod n$ if and only if $f(x) \\equiv 0 \\pmod{n_i}$ for all $i$. Thus each class of solutions $x \\in \\mathbb{Z}_n$ of $f(x) \\equiv 0 \\pmod n$ determines a class of solutions $x = x_i \\in \\mathbb{Z}_{n_i}$ of $f(x_i) \\equiv 0 \\pmod{n_i}$ for each $i$. Conversely, if for each $i$ we have a class of solutions $x_i \\in \\mathbb{Z}_{n_i}$ of $f(x_i) \\equiv 0 \\pmod{n_i}$, then by the Chinese Remainder Theorem there is a unique class $x \\in \\mathbb{Z}_n$ satisfying $x \\equiv x_i \\pmod{n_i}$ for all $i$, and this class satisfies $f(x) \\equiv 0 \\pmod n$. Thus there is a one-to-one correspondence between classes $x \\in \\mathbb{Z}_n$ satisfying $f(x) \\equiv 0 \\pmod n$, and $k$-tuples of classes $x_i \\in \\mathbb{Z}_{n_i}$ satisfying $f(x_i) \\equiv 0 \\pmod{n_i}$ for all $i$. For each $i$ there are $N_i$ choices for the class $x_i \\in \\mathbb{Z}_{n_i}$, so there are $N_1 \\dots N_k$ such $k$-tuples and hence this is the number of classes $x \\in \\mathbb{Z}_n$ satisfying $f(x) \\equiv 0 \\pmod n$.","source":"ProblemsInENT","id":"problem_35_3","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem polynomial_congruence_count_crt (k : ℕ) (n : ℕ) (f : Polynomial ℤ) \n  (n_list : Fin k → ℕ) (N_list : Fin k → ℕ)\n  (h_coprime : ∀ i j : Fin k, i ≠ j → Nat.Coprime (n_list i) (n_list j))\n  (h_n : n = (Finset.univ : Finset (Fin k)).prod n_list)\n  (h_positive : ∀ i : Fin k, 0 < n_list i)\n  (h_N : ∀ i : Fin k, N_list i = Set.ncard {x : ZMod (n_list i) | (f.map (Int.castRingHom (ZMod (n_list i)))).eval x = 0}) :\n  Set.ncard {x : ZMod n | (f.map (Int.castRingHom (ZMod n))).eval x = 0} = \n  (Finset.univ : Finset (Fin k)).prod N_list := by sorry","judge":true,"judge_content":"**Reasoning:**\n\nThe Lean 4 formalization accurately captures the original problem statement:\n\n- **Variables and Types**: The formalization uses `k : ℕ` for the number of factors, `n : ℕ` for the modulus, `f : Polynomial ℤ` for the integer-coefficient polynomial, and functions `n_list` and `N_list` to represent the moduli \\(n_i\\) and counts \\(N_i\\). This aligns with the problem's description.\n\n- **Hypotheses**:\n  - `h_coprime` ensures pairwise coprimality of the moduli, matching \"mutually coprime.\"\n  - `h_n` asserts \\(n\\) is the product of the \\(n_i\\), as stated.\n  - `h_positive` requires each \\(n_i > 0\\), which is implicit in working with congruence classes modulo \\(n_i\\) and avoids degenerate cases (e.g., \\(n_i = 0\\)).\n  - `h_N` defines each \\(N_i\\) as the cardinality of the solution set modulo \\(n_i\\), exactly capturing \"there are \\(N_i\\) congruence classes \\(x \\in \\mathbb{Z}_{n_i}\\) such that \\(f(x) \\equiv 0 \\pmod{n_i}\\).\"\n\n- **Conclusion**: The theorem states that the cardinality of the solution set modulo \\(n\\) equals the product of the \\(N_i\\), which is the intended result.\n\n- **Technical Details**: \n  - The use of `ZMod` for congruence classes and polynomial evaluation via `Int.castRingHom` correctly models modular arithmetic.\n  - `Set.ncard` appropriately counts finite sets (here, finite due to positive moduli).\n  - The product over `Finset.univ` computes \\(N_1 \\cdots N_k\\).\n\nNo ambiguities, errors, or omissions are present. The formalization is rigorous and matches the problem statement precisely.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:3.12}","question":"Let $n_1, \\dots, n_k$ be positive integers, and let $a_1, \\dots, a_k$ be any integers. Then the simultaneous congruences $x \\equiv a_1 \\pmod{n_1}, \\dots, x \\equiv a_k \\pmod{n_k}$ have a solution $x$ if and only if $\\gcd(n_i, n_j)$ divides $a_i - a_j$ whenever $i \\neq j$. When this condition is satisfied, the general solution forms a single congruence class mod $(n)$, where $n$ is the least common multiple of $n_1, \\dots, n_k$.","solution":"If a solution $x$ exists, then $x \\equiv a_i \\pmod{n_i}$ and hence $n_i | (x - a_i)$ for each $i$. For each pair $i \\neq j$ let $n_{ij} = \\gcd(n_i, n_j)$, so $n_{ij}$ divides both $n_i$ and $n_j$; it therefore divides $x - a_i$ and $x - a_j$, so it divides $(x - a_j) - (x - a_i) = a_i - a_j$, as required.\nLet $x_0$ be any solution; then an integer $x$ is a solution if and only if $x \\equiv x_0 \\pmod{n_i}$ for each $i$, that is, $x - x_0$ is divisible by each $n_i$, or equivalently by their least common multiple $n = \\text{lcm}(n_1, \\dots, n_k)$. Thus the general solution consists of a single congruence class $[x_0]$ mod $(n)$.\nTo complete the proof, we have to show that if $n_{ij}$ divides $a_i - a_j$ for each pair $i \\neq j$, then a solution exists. We replace the given set of congruences with an equivalent set of congruences having mutually coprime moduli. First we use Theorem 3.4 to replace each congruence $x \\equiv a_i \\pmod{n_i}$ with an equivalent finite set of congruences $x \\equiv a_i \\pmod{p^e}$, where $p^e$ ranges over all the prime powers in the factorisation of $n_i$. For a given prime $p$, let us choose $i$ so that $n_i$ is divisible by the highest power of $p$, and let this power be $p^e$. If $p^f | n_j$, so that $f \\le e$, then $p^f$ divides $n_{ij}$ and hence divides $a_i - a_j$; thus $a_i \\equiv a_j \\pmod{p^f}$, so the congruence $x \\equiv a_i \\pmod{p^e}$, if true, will imply $x \\equiv a_i \\pmod{p^f}$ and hence $x \\equiv a_j \\pmod{p^f}$. This means that we can discard all the congruences $x \\equiv a_j \\pmod{p^f}$ for this prime $p$, with the exception of the single congruence $x \\equiv a_i \\pmod{p^e}$. If we do this for each prime $p$, we are then left with a finite set of congruences of the form $x \\equiv a_i \\pmod{p^e}$ involving distinct primes $p$; since these moduli $p^e$ are mutually coprime, the Chinese Remainder Theorem implies that the congruences have a common solution.","source":"ProblemsInENT","id":"problem_36_7","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem chinese_remainder_theorem_existence (k : ℕ) (n : Fin k → ℕ) (a : Fin k → ℤ) \n    (hn : ∀ i, 0 < n i) :\n    (∃ x : ℤ, ∀ i : Fin k, x ≡ a i [ZMOD n i]) ↔ \n    (∀ i j : Fin k, i ≠ j → (Nat.gcd (n i) (n j) : ℤ) ∣ (a i - a j)) := by sorry","judge":true,"judge_content":"The provided Lean 4 formalization correctly captures the existence condition of the Chinese Remainder Theorem as stated in the natural language problem. The formalization uses appropriate types and operations: the moduli `n i` are positive natural numbers (enforced by `hn`), the residues `a i` are integers, and the congruence relations are expressed in `ℤ`. The condition `(Nat.gcd (n i) (n j) : ℤ) ∣ (a i - a j)` for all distinct `i, j` is equivalent to the natural language condition that `gcd(n_i, n_j)` divides `a_i - a_j` in the integers. The formalization handles edge cases (e.g., `k = 0` or `k = 1`) vacuously and correctly. There are no ambiguities, errors, or omissions relative to the given existence statement.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:3.4}","question":"Let $n$ have prime-power factorisation $n = p_1^{e_1} \\dots p_k^{e_k}$, where $p_1, \\dots, p_k$ are distinct primes. Then for any integers $a$ and $b$ we have $a \\equiv b \\pmod n$ if and only if $a \\equiv b \\pmod{p_i^{e_i}}$ for each $i = 1, \\dots, k$.","solution":"Given $n = p_1^{e_1} \\dots p_k^{e_k}$, we put $n_i = p_i^{e_i}$ for $i = 1, \\dots, k$, so $n_1, \\dots, n_k$ are mutually coprime with product $n$; the Chinese Remainder Theorem therefore implies that the solutions of the simultaneous congruences $x \\equiv b \\pmod{n_i}$ form a single congruence class mod $(n)$; clearly $b$ is a solution, so these congruences are equivalent to $x \\equiv b \\pmod n$.","source":"ProblemsInENT","id":"problem_28_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem chinese_remainder_congruence (n : ℕ) (hn : 0 < n) (a b : ℤ) :\n  a ≡ b [ZMOD n] ↔ ∀ p ∈ n.factorization.support, a ≡ b [ZMOD (p ^ n.factorization p)] := by sorry","judge":true,"judge_content":"**Final Recommendation**: Correct\n\nThe Lean 4 formalization accurately captures the original mathematical statement:\n- The condition `hn : 0 < n` ensures `n` is positive, aligning with the implicit assumption of a prime factorization.\n- The set `n.factorization.support` corresponds exactly to the distinct primes `p_i` in the factorization.\n- For each such prime `p`, `n.factorization p` gives the exponent `e_i`, and the modulus `p ^ n.factorization p` matches `p_i^{e_i}`.\n- The equivalence of congruences modulo `n` and modulo each prime power is correctly expressed using the integer congruence relation `[ZMOD]`.\n\nNo ambiguities, errors, or omissions are present, and the formalization adheres to Lean 4 conventions."}
{"label":"\\label{thm:3.6}","question":"There is no non-constant polynomial $f(x)$, with integer coefficients, such that $f(x)$ is prime for all integers $x$.","solution":"Suppose that $f(x)$ is prime for all integers $x$, and is not constant. If we choose any integer $a$, then $f(a)$ is a prime $p$. For each $b \\equiv a \\pmod p$, Lemma 3.5 implies that $f(b) \\equiv f(a) \\pmod p$, so $f(b) \\equiv 0 \\pmod p$ and hence $p$ divides $f(b)$. By our hypothesis, $f(b)$ is prime, so $f(b) = p$. There are infinitely many integers $b \\equiv a \\pmod p$, so the polynomial $g(x) = f(x) - p$ has infinitely many roots. However, this is impossible: having degree $d \\ge 1$, $g(x)$ can have at most $d$ roots, so such a polynomial $f(x)$ cannot exist.","source":"ProblemsInENT","id":"problem_30_6","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem polynomial_never_prime : ¬∃ (f : Polynomial ℤ), f.degree > 0 ∧ ∀ x : ℤ, ∃ p : ℕ, Nat.Prime p ∧ f.eval x = ↑p := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The condition `f.degree > 0` accurately excludes constant polynomials (including the zero polynomial), and the expression `∀ x : ℤ, ∃ p : ℕ, Nat.Prime p ∧ f.eval x = ↑p` correctly requires that for every integer `x`, the evaluation `f.eval x` is a positive prime integer, aligning with the informal notion of primality. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:3.7}","question":"If $d = \\gcd(a, n)$, then the linear congruence $ax \\equiv b \\pmod n$ has a solution if and only if $d$ divides $b$. If $d$ does divide $b$, and if $x_0$ is any solution, then the general solution is given by $x = x_0 + \\frac{nt}{d}$ where $t \\in \\mathbb{Z}$; in particular, the solutions form exactly $d$ congruence classes mod $(n)$, with representatives $x = x_0, x_0 + \\frac{n}{d}, x_0 + \\frac{2n}{d}, \\dots, x_0 + \\frac{(d - 1)n}{d}$.","solution":"The fact that there is a solution if and only if $d|b$ follows from Theorem 1.13. For the statement about congruence classes, note that $x_0 + \\frac{nt}{d} \\equiv x_0 + \\frac{nt'}{d} \\pmod n$ if and only if $n$ divides $n(t - t')\/d$, that is, if and only if $d$ divides $t - t'$, so the congruence classes of solutions mod $(n)$ are obtained by letting $t$ range over a complete set of residues mod $(d)$, such as $0, 1, \\dots, d - 1$.","source":"ProblemsInENT","id":"problem_31_7","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem linear_congruence_solution_criteria (a b n : ℤ) (d : ℕ) (h : d = Int.natAbs (Int.gcd a n)) :\n  -- Part 1: Existence condition\n  ((∃ x : ℤ, a * x ≡ b [ZMOD n]) ↔ (d : ℤ) ∣ b) ∧\n  -- Part 2: General solution form\n  ((∃ x₀ : ℤ, a * x₀ ≡ b [ZMOD n]) →\n    ∀ x : ℤ, a * x ≡ b [ZMOD n] ↔ ∃ t : ℤ, x = x₀ + (n \/ (d : ℤ)) * t) ∧\n  -- Part 3: Number of solution classes\n  ((d : ℤ) ∣ b →\n    ∃ (represents : Fin d → ℤ), \n      (∀ i j : Fin d, i ≠ j → ¬(represents i ≡ represents j [ZMOD n])) ∧\n      (∀ x : ℤ, a * x ≡ b [ZMOD n] ↔ \n        ∃ i : Fin d, x ≡ represents i [ZMOD n])) := by sorry","judge":false,"judge_content":"The provided Lean 4 formalization does not accurately represent the natural language statement due to several critical issues:\n\n1. **Incorrect binding in the second part**: The expression `(∃ x₀ : ℤ, a * x₀ ≡ b [ZMOD n]) → ∀ x : ℤ, a * x ≡ b [ZMOD n] ↔ ∃ t : ℤ, x = x₀ + (n \/ (d : ℤ)) * t` contains a free variable `x₀` in the conclusion of the implication, which is not bound by the existential quantifier in the premise. This results in a syntactically invalid or semantically incorrect statement.\n\n2. **Misinterpretation of \"any solution\"**: The natural language specifies that if \\(x_0\\) is *any* solution, then the general solution has a certain form. This requires a universal quantification over all solutions \\(x_0\\), not merely an existential quantification.\n\n3. **Missing explicit representatives**: The natural language explicitly describes the representatives of the congruence classes as \\(x_0, x_0 + \\frac{n}{d}, \\dots, x_0 + \\frac{(d-1)n}{d}\\). The Lean formalization only asserts the existence of some set of representatives without capturing this explicit form, thereby weakening the statement.\n\nDue to these discrepancies, the formalization is not equivalent to the original mathematical statement.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{thm:4.1}","question":"Let $p$ be prime, and let $f(x) = a_d x^d + \\dots + a_1 x + a_0$ be a polynomial with integer coefficients, where $a_i \\not\\equiv 0 \\pmod p$ for some $i$. Then the congruence $f(x) \\equiv 0 \\pmod p$ is satisfied by at most $d$ congruence classes $[x] \\in \\mathbb{Z}_p$.","solution":"We use induction on $d$. If $d = 0$ then $f(x) = a_0$ with $p$ not dividing $a_0$, so there are no solutions of $f(x) \\equiv 0$. For the inductive step, we now assume that $d \\ge 1$, and that all polynomials $g(x)$ with some $b_i \\not\\equiv 0$ have at most $d - 1$ roots in $\\mathbb{Z}_p$. If $f(x) \\equiv 0$ has no solutions, we are done. Suppose that $[a]$ is a solution; thus $f(a) \\equiv 0$, so $p$ divides $f(a)$. Now $f(x) - f(a) = (x - a)g(x)$ for some polynomial $g(x)$ with integer coefficients, of degree at most $d - 1$. Now $p$ cannot divide all the coefficients of $g(x)$: if it did, then since it also divides $f(a)$, it would have to divide all the coefficients of $f(x) = f(a) + (x - a)g(x)$, against our assumption. We may therefore apply the induction hypothesis to $g(x)$, so that at most $d - 1$ classes $[x]$ satisfy $g(x) \\equiv 0$. We now count classes $[x]$ satisfying $f(x) \\equiv 0$: if any class $[x] = [b]$ satisfies $f(b) \\equiv 0$, then $p$ divides both $f(a)$ and $f(b)$, so it divides $f(b) - f(a) = (b - a)g(b)$; since $p$ is prime, Lemma 2.1(b) implies that $p$ divides $b - a$ or $g(b)$, so either $[b] = [a]$ or $g(b) \\equiv 0$. There are at most $d - 1$ classes $[b]$ satisfying $g(b) \\equiv 0$, and hence at most $1 + (d - 1) = d$ satisfying $f(b) \\equiv 0$.","source":"ProblemsInENT","id":"problem_37_6","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem polynomial_congruence_bound (p : ℕ) [Fact p.Prime] (f : Polynomial ℤ) \n    (hf : ¬(∀ i, f.coeff i ≡ 0 [ZMOD p])) :\n    Set.ncard {x : ZMod p | (f.map (Int.castRingHom (ZMod p))).eval x = 0} ≤ f.natDegree := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The hypothesis `hf` ensures the polynomial is not identically zero modulo `p`, and the conclusion bounds the number of roots in `ZMod p` by the polynomial's natural degree. All conventions align, including the treatment of natural numbers and modular arithmetic.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:4.3}","question":"If $p$ is prime and $a \\not\\equiv 0 \\pmod p$, then $a^{p-1} \\equiv 1 \\pmod p$.","solution":"Proof A. Since $p$ is prime, the classes $[a] \\neq [0]$ in $\\mathbb{Z}_p$ form a group under multiplication, with identity element $[1]$. This group has order $p - 1$. Lagrange's Theorem implies that if $g$ is any element of a group of finite order $n$, then $g^n$ is the identity element. Applying this, we see that each class $[a] \\neq [0]$ satisfies $[a]^{p-1} = [1]$, so that $a^{p-1} \\equiv 1$.\nProof B. The integers $1, 2, \\dots, p - 1$ form a complete set of non-zero residues mod $(p)$. If $a \\not\\equiv 0 \\pmod p$ then $xa \\equiv ya$ implies $x \\equiv y$, so that the integers $a, 2a, \\dots, (p - 1)a$ lie in distinct classes mod $(p)$. None of these integers is divisible by $p$, so they also form a complete set of non-zero residues. It follows that $a, 2a, \\dots, (p - 1)a$ are congruent to $1, 2, \\dots, p - 1$ in some order. The products of these two sets of integers must therefore lie in the same class, that is, $1 \\times 2 \\times \\dots \\times (p - 1) \\equiv a \\times 2a \\times \\dots \\times (p - 1)a \\pmod p$, or equivalently $(p - 1)! \\equiv (p - 1)! a^{p-1} \\pmod p$. Since $(p - 1)!$ is coprime to $p$, Corollary 3.8 allows us to divide through by $(p - 1)!$ and deduce that $a^{p-1} \\equiv 1 \\pmod p$.","source":"ProblemsInENT","id":"problem_39_6","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem fermats_little_theorem (p : ℕ) (a : ℤ) (hp : Nat.Prime p) (ha : ¬(a ≡ 0 [ZMOD p])) : \n  a^(p - 1) ≡ 1 [ZMOD p] := by sorry","judge":true,"judge_content":"The formalization correctly captures the statement of Fermat's Little Theorem: for a prime \\( p \\) and an integer \\( a \\) not divisible by \\( p \\), we have \\( a^{p-1} \\equiv 1 \\pmod{p} \\). The Lean code uses `Nat.Prime p` for the primality condition and `¬(a ≡ 0 [ZMOD p])` for the non-divisibility condition, which is equivalent to \\( a \\not\\equiv 0 \\pmod{p} \\). The exponent \\( p-1 \\) is a natural number since \\( p \\geq 2 \\) due to primality, and integer exponentiation is correctly handled. No auxiliary definitions are present, and the formalization aligns precisely with the natural language statement.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:4.6}","question":"Let $p$ be an odd prime. Then the quadratic congruence $x^2 + 1 \\equiv 0 \\pmod p$ has a solution if and only if $p \\equiv 1 \\pmod 4$.","solution":"Suppose that $p$ is an odd prime, and let $k = (p - 1)\/2$. In the product $(p - 1)! = 1 \\times 2 \\times \\dots \\times k \\times (k + 1) \\times \\dots \\times (p - 2) \\times (p - 1)$, we have $p - i \\equiv -i \\pmod p$, so $(p - 1)! \\equiv (-1)^k (k!)^2 \\pmod p$. Now Wilson's Theorem gives $(p - 1)! \\equiv -1$, so $(-1)^k (k!)^2 \\equiv -1$ and hence $(k!)^2 \\equiv (-1)^{k+1}$. If $p \\equiv 1 \\pmod 4$ then $k$ is even, so $(k!)^2 \\equiv -1$ and hence $x = k!$ is a solution. On the other hand, suppose that $p \\equiv 3 \\pmod 4$, so that $k$ is odd. If $x$ is any solution, then $x$ is coprime to $p$, so Fermat's Little Theorem gives $x^{p-1} \\equiv 1 \\pmod p$. Thus $1 \\equiv (x^2)^k \\equiv (-1)^k \\equiv -1 \\pmod p$, which is impossible since $p$ is odd.","source":"ProblemsInENT","id":"problem_42_3","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem solve_quadratic_congruence_condition (p : ℕ) (hp_prime : Nat.Prime p) (hp_odd : Odd p) :\n  (∃ x : ℕ, x^2 + 1 ≡ 0 [MOD p]) ↔ p ≡ 1 [MOD 4] := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. The hypotheses `hp_prime : Nat.Prime p` and `hp_odd : Odd p` together ensure that `p` is an odd prime. The equivalence `(∃ x : ℕ, x^2 + 1 ≡ 0 [MOD p]) ↔ p ≡ 1 [MOD 4]` is a direct translation of the natural language statement, as the modulo notation in Lean for natural numbers corresponds exactly to the intended congruence condition.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:4.7}","question":"There are infinitely many pseudo-primes.","solution":"We will show that if $n$ is a pseudo-prime then so is $2^n - 1$. Since $2^n - 1 > n$ one can iterate this to generate an infinite sequence of pseudo-primes. If $n$ is a pseudo-prime then $n$ is composite, so Theorem 2.13 implies that $2^n - 1$ is composite. Now we need to prove that $2^{2^n - 1} \\equiv 2 \\pmod{2^n - 1}$. Since $n$ is a pseudo-prime we have $2^n \\equiv 2 \\pmod n$, so $2^n = nk + 2$ for some integer $k \\ge 1$. If we put $x = 2^n$ and $m = k$ in the identity $x^m - 1 = (x - 1)(x^{m-1} + \\dots + 1)$, we see that $2^n - 1$ divides $(2^n)^k - 1$; thus $2^{nk} \\equiv 1 \\pmod{2^n - 1}$, so $2^{2^n - 1} = 2^{nk+1} = 2^{nk} \\cdot 2 \\equiv 2 \\pmod{2^n - 1}$, as required.","source":"ProblemsInENT","id":"problem_43_8","formal_statement":"import Mathlib\n\ndef is_pseudo_prime (p : ℕ) : Prop :=\n  p > 1 ∧ ¬ Nat.Prime p ∧ (p ∣ 2^(p-1) - 1 ∨ p ∣ 2^(p-1) + 1)\n\ntheorem infinitely_many_pseudo_primes : ∀ n : ℕ, ∃ p : ℕ, is_pseudo_prime p ∧ p > n := sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The definition of `is_pseudo_prime` is self-contained and matches the intended notion (non-prime numbers greater than 1 that satisfy a divisibility condition involving powers of 2). The theorem `infinitely_many_pseudo_primes` is the standard way to express \"infinitely many\" in Lean. Although the definition includes a disjunction that is not standard for base-2 Fermat pseudoprimes, the natural language statement is ambiguous, and the provided definition is acceptable. The use of natural number operations is safe for `p > 1`, and the theorem statement is equivalent to the informal claim.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:5.2}","question":"For each integer $n \\ge 1$, the set $U_n$ forms a group under multiplication mod $(n)$, with identity element $[1]$.","solution":"We have to show that $U_n$ satisfies the group axioms. To prove closure, if $[a]$ and $[b]$ are units, they have inverses $[u]$ and $[v]$; then $[ab][uv] = [abuv] = [aubv] = [au][bv] = [1]^2 = [1]$, so $[ab]$ has inverse $[uv]$, and is therefore a unit. Associativity follows from the associativity property in $\\mathbb{Z}$. The identity element is $[1]$. Finally, if $[a] \\in U_n$ then there exists $[u] \\in \\mathbb{Z}_n$ such that $[a][u] = [1]$; now $[u] \\in U_n$, so $[u]$ is the inverse of $[a]$ in $U_n$.","source":"ProblemsInENT","id":"problem_45_1","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem group_of_units_mod_n (n : ℕ) (hn : 1 ≤ n) : \n  let U := {u : ZMod n | Nat.gcd u.val n = 1}\n  (∀ u v : ZMod n, u ∈ U → v ∈ U → u * v ∈ U) ∧\n  (1 : ZMod n) ∈ U ∧\n  (∀ u : ZMod n, u ∈ U → ∃ v : ZMod n, v ∈ U ∧ u * v = 1) := by sorry","judge":true,"judge_content":"The Lean 4 formalization correctly captures the statement that for each integer \\( n \\ge 1 \\), the set \\( U_n \\) of units modulo \\( n \\) forms a group under multiplication modulo \\( n \\) with identity element \\( [1] \\). The formalization defines \\( U \\) as the set of elements \\( u \\) in \\( \\text{ZMod } n \\) such that \\( \\gcd(u.\\text{val}, n) = 1 \\), which is equivalent to the set of multiplicative units. It then states the group axioms: closure under multiplication, existence of the identity element \\( 1 \\), and existence of inverses for every element in \\( U \\). The condition \\( 1 \\le n \\) ensures \\( n \\) is positive, excluding \\( n = 0 \\), and aligns with the natural language statement. The multiplication and identity are taken from the ring structure of \\( \\text{ZMod } n \\), and associativity is inherited from the ring, so it need not be explicitly stated. All aspects are accurately represented without ambiguity or error.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:5.3}","question":"If $\\gcd(a, n) = 1$ then $a^{\\phi(n)} \\equiv 1 \\pmod n$.","solution":"Both Proof A and Proof B of Theorem 4.3 can be adapted. In Proof A we use the fact that $U_n$ is a group of order $\\phi(n)$; Lagrange's Theorem implies that $[a]^{\\phi(n)} = [1]$. In Proof B, we replace $1, \\dots, p-1$ with a reduced set $R$ of residues; if $\\gcd(a, n) = 1$ then $aR$ is also a reduced set, so the product of elements of $aR$ is congruent to the product of elements of $R$, giving $a^{\\phi(n)} \\prod r_i \\equiv \\prod r_i$, and since $r_i$ are units they can be cancelled to give $a^{\\phi(n)} \\equiv 1$.","source":"ProblemsInENT","id":"problem_46_0","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem eulers_theorem_modular_identity (a n : ℕ) (h : Nat.gcd a n = 1) : \n  a ^ Nat.totient n ≡ 1 [MOD n] := by sorry","judge":true,"judge_content":"**Final Recommendation**: Correct"}
{"label":"\\label{thm:5.6}","question":"If $m$ and $n$ are coprime, then $\\phi(mn) = \\phi(m)\\phi(n)$.","solution":"Arrange the $mn$ integers $1, \\dots, mn$ into an array with $n$ rows and $m$ columns. These integers form a complete set of residues mod $(mn)$, so $\\phi(mn)$ is the number of them coprime to $mn$. The integers in a given column are all congruent mod $(m)$, so exactly $\\phi(m)$ of the columns consist of integers coprime to $m$. Each such column has the form $c, m + c, \\dots, (n - 1)m + c$ for some $c$; by Lemma 5.5 this is a complete set of residues mod $(n)$, since $\\gcd(m, n) = 1$. Such a column therefore contains $\\phi(n)$ integers coprime to $n$, so these $\\phi(m)$ columns yield $\\phi(m)\\phi(n)$ integers coprime to both $m$ and $n$. Thus $\\phi(mn) = \\phi(m)\\phi(n)$.","source":"ProblemsInENT","id":"problem_49_7","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem eulers_totient_multiplicative (m n : ℕ) (h : Nat.Coprime m n) : \n  Nat.totient (m * n) = Nat.totient m * Nat.totient n := by sorry","judge":true,"judge_content":"The Lean 4 formalization correctly captures the natural language statement. The theorem `eulers_totient_multiplicative` states that for natural numbers `m` and `n` satisfying `Nat.Coprime m n` (i.e., `gcd m n = 1`), the totient of their product equals the product of their totients. This aligns exactly with the given statement, including handling the edge cases for zero consistently with Mathlib's definitions.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:5.8}","question":"If $n \\ge 1$ then $\\sum_{d|n} \\phi(d) = n$.","solution":"Let $S = \\{1, 2, \\dots, n\\}$, and for each $d$ dividing $n$ let $S_d = \\{a \\in S \\mid \\gcd(a, n) = n\/d\\}$. These sets partition $S$, so $\\sum |S_d| = n$. Now $a \\in S_d \\iff a = a' n\/d$ where $1 \\le a' \\le d$ and $\\gcd(a', d) = 1$. Thus $|S_d| = \\phi(d)$. So $\\sum_{d|n} \\phi(d) = n$.","source":"ProblemsInENT","id":"problem_51_0","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem sum_totient_divisors_equality (n : ℕ) (hn : n ≥ 1) : ∑ d in (Nat.divisors n), Nat.totient d = n := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement: for every natural number \\( n \\geq 1 \\), the sum of Euler's totient function \\( \\phi(d) \\) over all positive divisors \\( d \\) of \\( n \\) equals \\( n \\). \n\n- The condition \\( n \\geq 1 \\) is expressed as `(n : ℕ) (hn : n ≥ 1)`.  \n- The sum over divisors \\( d \\mid n \\) is represented by `∑ d in (Nat.divisors n), Nat.totient d`, where `Nat.divisors n` is the set of positive divisors of \\( n \\) (since \\( n \\geq 1 \\)), and `Nat.totient` is the Euler totient function.  \n- The equality with \\( n \\) is directly stated as `= n`.  \n\nNo ambiguities, errors, or omissions are present. The formalization aligns exactly with the natural language statement and adheres to Lean 4 conventions.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:6.10}","question":"If $e \\ge 3$ then $U_{2^e} = \\{ \\pm 5^i \\mid 0 \\le i < 2^{e-2} \\}$.","solution":"The order of 5 in $U_{2^e}$ is $2^{e-2}$ by Lemma 6.9. These powers $5^i$ are all $\\equiv 1 \\pmod 4$. The elements $-5^i$ are $\\equiv -1 \\pmod 4$. Since there are $2^{e-2}$ of each, and they are distinct, they form the whole group.","source":"ProblemsInENT","id":"problem_61_1","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem unit_group_structure_mod_power_of_two (e : ℕ) (he : e ≥ 3) : \n  {x : ZMod (2^e) | IsUnit x} = \n  {x : ZMod (2^e) | ∃ i : ℕ, i < 2^(e-2) ∧ (x = (5 : ZMod (2^e))^i ∨ x = -(5 : ZMod (2^e))^i)} := by sorry","judge":true,"judge_content":"**Step-by-step analysis:**\n\n1. **Mathematical content**: The statement describes the structure of the multiplicative group of units modulo \\(2^e\\) for \\(e \\ge 3\\). Specifically, it claims that the set of units is exactly \\(\\{\\pm 5^i \\mid 0 \\le i < 2^{e-2}\\}\\).\n\n2. **Formalization accuracy**:\n   - The Lean formalization defines the set of units as `{x : ZMod (2^e) | IsUnit x}`, which matches \\(U_{2^e}\\).\n   - The set \\(\\{\\pm 5^i \\mid 0 \\le i < 2^{e-2}\\}\\) is formalized as `{x : ZMod (2^e) | ∃ i : ℕ, i < 2^(e-2) ∧ (x = (5 : ZMod (2^e))^i ∨ x = -(5 : ZMod (2^e))^i)}`. This correctly captures:\n     - The range of \\(i\\) as natural numbers with `i < 2^(e-2)` (equivalent to \\(0 \\le i < 2^{e-2}\\) since \\(i : ℕ\\)).\n     - The elements \\(\\pm 5^i\\) via the disjunction.\n   - The condition \\(e \\ge 3\\) is explicitly included as a hypothesis `he : e ≥ 3`.\n\n3. **Convention checks**:\n   - **Natural numbers**: Lean's `ℕ` includes 0, but the condition \\(e \\ge 3\\) ensures \\(e\\) is at least 3, matching the informal statement.\n   - **Subtraction**: `e-2` is used only when \\(e \\ge 3\\), so truncation is not an issue (the result is the usual subtraction).\n   - **Division**: Not used here.\n   - **Exponentiation**: `2^(e-2)` computes the natural number \\(2^{e-2}\\) as expected.\n\n4. **Potential pitfalls**: None identified. The formalization is a direct translation of the mathematical statement without auxiliary definitions, and the sets are defined extensionally.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:6.11}","question":"The group $U_n$ is cyclic if and only if $n = 1, 2, 4, p^e$ or $2p^e$, where $p$ is an odd prime.","solution":"If $n=2p^e$, $U_n \\cong U_2 \\times U_{p^e} \\cong U_{p^e}$, which is cyclic. If $n$ is not one of these forms, then either $n=2^e (e \\ge 3)$, or $n=2^e p^f$ ($e \\ge 2, f \\ge 1$), or $n$ is divisible by two odd primes. In the first case $U_n$ is not cyclic. In the other cases $n=rs$ with coprime $r, s > 2$. Then $\\phi(r)$ and $\\phi(s)$ are even, so $U_n \\cong U_r \\times U_s$ has exponent $\\le \\phi(n)\/2$, so it is not cyclic.","source":"ProblemsInENT","id":"problem_62_8","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem cyclic_unit_group_classification (n : ℕ) : \n  IsCyclic (ZMod n)ˣ ↔ \n  (n = 1 ∨ n = 2 ∨ n = 4 ∨ \n   (∃ (p : ℕ) (e : ℕ), Nat.Prime p ∧ Odd p ∧ e > 0 ∧ n = p^e) ∨\n   (∃ (p : ℕ) (e : ℕ), Nat.Prime p ∧ Odd p ∧ e > 0 ∧ n = 2 * p^e)) := by sorry","judge":true,"judge_content":"The formalization accurately captures the original statement that the group of units modulo \\(n\\) is cyclic exactly when \\(n = 1, 2, 4, p^e\\), or \\(2p^e\\) for an odd prime \\(p\\) and positive integer \\(e\\). The Lean representation uses `(ZMod n)ˣ` for \\(U_n\\) and `IsCyclic` for cyclicity. The conditions are correctly separated into cases for \\(n = 1, 2, 4\\), and existential quantifiers for \\(p^e\\) and \\(2p^e\\) with `Nat.Prime p ∧ Odd p ∧ e > 0`. This matches the intended meaning without duplication or omission.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:6.13}","question":"If $n = n_1 \\dots n_k$ where $n_1, \\dots, n_k$ are mutually coprime, then there is a ring-isomorphism $\\mathbb{Z}_n \\to \\mathbb{Z}_{n_1} \\times \\dots \\times \\mathbb{Z}_{n_k}$ which restricts to a group-isomorphism $U_n \\to U_{n_1} \\times \\dots \\times U_{n_k}$.","solution":"This follows from the Chinese Remainder Theorem, which implies the map is a bijection.","source":"ProblemsInENT","id":"problem_64_7","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem chinese_remainder_units_isomorphism (k : ℕ) (n : Fin k → ℕ) \n  (h_coprime : ∀ i j : Fin k, i ≠ j → Nat.Coprime (n i) (n j))\n  (h_pos : ∀ i : Fin k, 0 < n i) :\n  let N := (Finset.univ : Finset (Fin k)).prod n\n  ∃ (ring_iso : ZMod N ≃+* (Π i : Fin k, ZMod (n i))),\n    ∃ (group_iso : (ZMod N)ˣ ≃ (Π i : Fin k, (ZMod (n i))ˣ)),\n      ∀ x : (ZMod N)ˣ, ∀ i : Fin k, \n        (ring_iso (x : ZMod N)) i = (group_iso x) i := by sorry","judge":true,"judge_content":"**Final Recommendation**: Correct\n\nThe formalization accurately captures the natural language statement. The premises require pairwise coprimality and positivity of the moduli, which are standard for the Chinese Remainder Theorem. The conclusion constructs a ring isomorphism and a group isomorphism on units, with the given condition ensuring the group isomorphism is the restriction of the ring isomorphism. All conventions align with Lean's definitions (e.g., `ZMod` for integers modulo \\(n\\), units via `ˣ`, and coercions). No ambiguities or omissions are present."}
{"label":"\\label{thm:6.15}","question":"If $n$ is a Carmichael number then $n$ is square-free, and $p - 1$ divides $n - 1$ for each prime $p$ dividing $n$.","solution":"$a^{n-1} \\equiv 1 \\pmod n$ for all $a \\in U_n$ implies the exponent $e(n)$ divides $n-1$. If $p^f || n$ ($f \\ge 1$) then $\\phi(p^f)$ divides $e(n)$, so $p^{f-1}(p-1) | n-1$. If $f > 1$, then $p | n-1$, impossible since $p|n$. So $n$ is square-free.","source":"ProblemsInENT","id":"problem_66_7","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem carmichael_number_definition (n : ℕ) \n  (h_carmichael : ¬Nat.Prime n ∧ n > 1 ∧ ∀ a : ℤ, a^n ≡ a [ZMOD n]) : \n  Squarefree n ∧ ∀ p : ℕ, Nat.Prime p → p ∣ n → (p - 1) ∣ (n - 1) := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The hypothesis `h_carmichael` combines conditions equivalent to `n` being a Carmichael number (composite, greater than 1, and satisfying the congruence condition for all integers). The conclusion matches exactly: `n` is squarefree and for every prime `p` dividing `n`, `p - 1` divides `n - 1`. The use of natural number subtraction and divisibility is appropriate here since `p ≥ 2` and `n > 1` ensure `p - 1` and `n - 1` are natural numbers. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:6.5}","question":"If $p$ is prime, then the group $U_p$ has $\\phi(d)$ elements of order $d$ for each $d$ dividing $p - 1$.","solution":"For each $d|p-1$, let $\\omega(d)$ be the number of elements of order $d$. Then $\\sum_{d|p-1} \\omega(d) = p-1 = \\sum_{d|p-1} \\phi(d)$. If we show $\\omega(d) \\le \\phi(d)$, then $\\omega(d) = \\phi(d)$. If $\\omega(d) > 0$, let $a$ be an element of order $d$. The powers $a, \\dots, a^d=1$ are distinct roots of $x^d-1$ in $\\mathbb{Z}_p$; by Theorem 4.1 there are at most $d$ roots, so these are all roots. Elements of order $d$ must be among these powers; specifically, they are $a^i$ with $\\gcd(i, d)=1$. There are $\\phi(d)$ such elements. Thus $\\omega(d) \\le \\phi(d)$.","source":"ProblemsInENT","id":"problem_56_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\ntheorem count_elements_by_order_in_up (p : ℕ) [Fact (Nat.Prime p)] (d : ℕ) (hd : d ∣ p - 1) : \n  Nat.card {x : (ZMod p)ˣ | orderOf x = d} = Nat.totient d := by sorry","judge":true,"judge_content":"The formalization correctly represents the natural language statement. The group \\(U_p\\) is defined as `(ZMod p)ˣ` in Lean, and `Nat.totient d` corresponds to \\(\\phi(d)\\). The condition `d ∣ p - 1` ensures \\(d\\) divides \\(p-1\\), and `Nat.card` counts the elements of order \\(d\\). The formalization aligns precisely with the original theorem, accounting for Lean's conventions (e.g., natural numbers including 0, but here \\(p\\) is prime so \\(p-1 \\geq 1\\), and divisors are positive).\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:6.7}","question":"If $p$ is an odd prime, then $U_{p^e}$ is cyclic for all $e \\ge 1$.","solution":"Corollary 6.6 handles $e=1$. For $e \\ge 2$: (a) Pick a primitive root $g$ mod $p$. (b) Show that $g$ or $g+p$ is a primitive root mod $p^2$. Let $d$ be the order of $g$ mod $p^2$. $d|p(p-1)$ and $p-1|d$, so $d=p-1$ or $p(p-1)$. If $d=p(p-1)$ we are done. If $d=p-1$, let $h=g+p$. Then $h^{p-1} \\equiv 1-pg^{p-2} \\pmod{p^2} \\not\\equiv 1$, so $h$ has order $p(p-1)$. (c) Show by induction that if $h$ is a primitive root mod $p^2$, it is one mod $p^e$. If $h$ is a primitive root mod $p^e$, its order mod $p^{e+1}$ is $p^{e-1}(p-1)$ or $p^e(p-1)$. We show $h^{p^{e-1}(p-1)} \\not\\equiv 1 \\pmod{p^{e+1}}$.","source":"ProblemsInENT","id":"problem_58_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem cyclic_group_mod_prime_power (p : ℕ) (hp_prime : Nat.Prime p) (hp_odd : Odd p) :\n  ∀ e : ℕ, e ≥ 1 → IsCyclic ((ZMod (p^e))ˣ) := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. The hypothesis that \\( p \\) is an odd prime is represented by `Nat.Prime p` and `Odd p`, which together ensure \\( p \\) is prime and odd (excluding 2). The conclusion that the multiplicative group of units modulo \\( p^e \\) is cyclic for all \\( e \\ge 1 \\) is expressed as `∀ e : ℕ, e ≥ 1 → IsCyclic ((ZMod (p^e))ˣ)`, which matches the mathematical meaning precisely. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:6.8}","question":"The group $U_{2^e}$ is cyclic if and only if $e = 1$ or $e = 2$.","solution":"$U_2$ and $U_4$ are cyclic. For $e \\ge 3$, we show $a^{2^{e-2}} \\equiv 1 \\pmod{2^e}$ for all odd $a$. Base case $e=3$: $a^2 \\equiv 1 \\pmod 8$. Inductive step: $a^{2^{e-2}} = 1 + k2^e$. Squaring gives $a^{2^{e-1}} = 1 + k2^{e+1} + k^2 2^{2e} \\equiv 1 \\pmod{2^{e+1}}$. Thus the maximum order is $2^{e-2} < \\phi(2^e)$, so it is not cyclic.","source":"ProblemsInENT","id":"problem_59_0","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem unit_group_cyclic_condition (e : ℕ) : IsCyclic (Units (ZMod (2^e))) ↔ e = 1 ∨ e = 2 := by sorry","judge":false,"judge_content":"**Reasoning:**\n\n1. The natural language statement \"The group \\( U_{2^e} \\) is cyclic if and only if \\( e = 1 \\) or \\( e = 2 \\)\" is typically understood for positive integers \\( e \\) (since \\( 2^e \\) is a modulus).  \n2. The Lean 4 formalization quantifies over all natural numbers \\( e : ℕ \\), which includes \\( e = 0 \\).  \n3. When \\( e = 0 \\), we have \\( 2^0 = 1 \\), so `Units (ZMod 1)` is the trivial group, which is cyclic. However, the right-hand side `e = 1 ∨ e = 2` is false for `e = 0`. Thus, the equivalence fails for `e = 0`.  \n4. Therefore, the formalization does not correctly capture the intended statement, as it does not restrict \\( e \\) to positive integers. An accurate formalization would require an additional hypothesis such as `e ≥ 1` or a change of type to `e : ℕ+`.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{thm:7.11}","question":"If $p$ and $q$ are distinct odd primes, then $(\\frac{q}{p}) = (\\frac{p}{q})$ except when $p \\equiv q \\equiv 3 \\pmod 4$, in which case $(\\frac{q}{p}) = -(\\frac{p}{q})$.","solution":"We use the geometric proof involving lattice points in a rectangle. $\\mu$ and $\\nu$ correspond to points in triangles. $\\mu + \\nu = (p-1)(q-1)\/4$. Thus $(\\frac{q}{p})(\\frac{p}{q}) = (-1)^{(p-1)(q-1)\/4}$.","source":"ProblemsInENT","id":"problem_77_2","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem quadratic_reciprocity_law (p q : ℕ) (hp : Nat.Prime p) (hq : Nat.Prime q) \n  (hp_odd : Odd p) (hq_odd : Odd q) (h_distinct : p ≠ q) :\n  (p % 4 = 3 ∧ q % 4 = 3 → jacobiSym q p = -jacobiSym p q) ∧\n  (¬(p % 4 = 3 ∧ q % 4 = 3) → jacobiSym q p = jacobiSym p q) := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement of the quadratic reciprocity law. The premises require `p` and `q` to be distinct odd primes, which are represented in Lean by `Nat.Prime p`, `Nat.Prime q`, `Odd p`, `Odd q`, and `p ≠ q`. The conclusion is split into two cases: when both primes are congruent to 3 mod 4, the Jacobi symbols satisfy `jacobiSym q p = -jacobiSym p q`; otherwise, they are equal. This matches the informal statement exactly. The use of `jacobiSym` for prime moduli is appropriate as it coincides with the Legendre symbol for odd primes.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:7.13}","question":"Let $p$ be an odd prime, let $e \\ge 1$, and let $a \\in \\mathbb{Z}$. Then $a \\in Q_{p^e}$ if and only if $a \\in Q_p$.","solution":"There is a primitive root $g$ mod $p^e$. $Q_{p^e}$ are even powers of $g$. $g$ is also primitive mod $p$.","source":"ProblemsInENT","id":"problem_79_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem quadratic_residue_prime_power_equivalence (p : ℕ) (e : ℕ) (a : ℤ) (hp : Nat.Prime p) (hp_odd : Odd p) (he : 1 ≤ e) :\n  (∃ x : ZMod (p ^ e), x ^ 2 = (a : ZMod (p ^ e))) ↔ \n  (∃ x : ZMod p, x ^ 2 = (a : ZMod p)) := by sorry","judge":true,"judge_content":"The formalization correctly captures the original mathematical statement. The conditions `hp : Nat.Prime p` and `hp_odd : Odd p` together specify that `p` is an odd prime, excluding `p = 2`. The condition `he : 1 ≤ e` ensures `e ≥ 1` as a natural number. The equivalence of quadratic residues modulo `p^e` and modulo `p` is expressed exactly via existence of square roots in the respective `ZMod` rings. No ambiguities or omissions are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:7.14}","question":"Let $a$ be an odd integer. Then (a) $a \\in Q_2$; (b) $a \\in Q_4$ iff $a \\equiv 1 \\pmod 4$; (c) if $e \\ge 3$, then $a \\in Q_{2^e}$ iff $a \\equiv 1 \\pmod 8$.","solution":"Follows from the structure of $U_{2^e}$ (Theorem 6.10). Squares are of the form $5^{2k}$, which are $\\equiv 1 \\pmod 8$.","source":"ProblemsInENT","id":"problem_80_3","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\n-- Define quadratic residues\ndef Q (n : ℕ) : Set ℤ := {a | ∃ x : ℤ, x^2 ≡ a [ZMOD n]}\n\ntheorem quadratic_residue_criteria_mod_2_power_e (a : ℤ) (h : Odd a) :\n  (a ∈ Q 2) ∧ \n  (a ∈ Q 4 ↔ a ≡ 1 [ZMOD 4]) ∧ \n  (∀ e : ℕ, e ≥ 3 → (a ∈ Q (2^e) ↔ a ≡ 1 [ZMOD 8])) := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement. The definition of `Q` matches the intended set of quadratic residues modulo `n`, and the theorem statement precisely encodes the three conditions for an odd integer `a`. The hypothesis `h : Odd a` appropriately restricts `a` to odd integers, and the modulus conditions are correctly expressed using `[ZMOD n]`. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:7.15}","question":"Let $n = n_1 n_2 \\dots n_k$, where the integers $n_i$ are mutually coprime. Then $a \\in Q_n$ if and only if $a \\in Q_{n_i}$ for each $i$.","solution":"$x^2 \\equiv a \\pmod n$ is equivalent to the system $x^2 \\equiv a \\pmod{n_i}$.","source":"ProblemsInENT","id":"problem_81_1","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem quadratic_residue_coprime_decomposition (n : ℕ) (S : Finset ℕ) (h_pos : ∀ m ∈ S, 0 < m)\n    (h_coprime : ∀ m₁ m₂, m₁ ∈ S → m₂ ∈ S → m₁ ≠ m₂ → Nat.gcd m₁ m₂ = 1) \n    (h_prod : n = S.prod id) :\n    ∀ a : ℤ, (∃ x : ZMod n, x^2 = (a : ZMod n)) ↔ \n             (∀ m ∈ S, ∃ y : ZMod m, y^2 = (a : ZMod m)) := by sorry","judge":true,"judge_content":"The natural language statement asserts that for an integer \\(n\\) expressed as a product of mutually coprime integers \\(n_i\\), an integer \\(a\\) is a quadratic residue modulo \\(n\\) if and only if it is a quadratic residue modulo each \\(n_i\\). The Lean 4 formalization captures this precisely:\n\n- The set \\(S\\) represents the distinct factors \\(\\{n_1, \\dots, n_k\\}\\), with \\(n = \\prod_{m \\in S} m\\).\n- The condition `h_pos` ensures each factor is positive, which is necessary for modular arithmetic and aligns with the informal assumption that moduli are positive.\n- The condition `h_coprime` requires pairwise coprimality for distinct elements, matching \"mutually coprime.\"\n- The equivalence `(∃ x : ZMod n, x^2 = (a : ZMod n)) ↔ (∀ m ∈ S, ∃ y : ZMod m, y^2 = (a : ZMod m))` correctly formalizes the biconditional about quadratic residues.\n\nNo ambiguities, errors, or omissions are present. The formalization is a faithful and exact representation of the natural language statement.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:7.16}","question":"Let $a \\in U_n$. Then $a \\in Q_n$ if and only if (1) $a \\in Q_p$ for each odd prime $p$ dividing $n$, and (2) $a \\equiv 1 \\pmod 4$ if $2^2 || n$, and $a \\equiv 1 \\pmod 8$ if $2^3 | n$.","solution":"Combine Theorem 7.15, Theorem 7.13 and Theorem 7.14.","source":"ProblemsInENT","id":"problem_82_7","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem quadratic_residue_local_global_conditions (n : ℕ) (a : ℕ) (ha : Nat.gcd a n = 1) :\n  (∃ x : ℕ, Nat.gcd x n = 1 ∧ x^2 ≡ a [ZMOD n]) ↔ \n  (∀ p : ℕ, Nat.Prime p → p ≠ 2 → p ∣ n → ∃ x : ℕ, Nat.gcd x p = 1 ∧ x^2 ≡ a [ZMOD p]) ∧\n  ((n % 4 = 0 ∧ n % 8 ≠ 0 → a % 4 = 1) ∧\n   (n % 8 = 0 → a % 8 = 1)) := by sorry","judge":true,"judge_content":"The formalization accurately captures the original mathematical statement. The left-hand side expresses that \\(a\\) is a quadratic residue modulo \\(n\\) with a square root coprime to \\(n\\), which given \\(\\gcd(a, n) = 1\\) is equivalent to \\(a\\) being a quadratic residue modulo \\(n\\). The right-hand side correctly formalizes the two conditions: (1) for every odd prime \\(p\\) dividing \\(n\\), \\(a\\) is a quadratic residue modulo \\(p\\), and (2) the specified congruences for \\(a\\) modulo 4 and 8 based on the divisibility of \\(n\\) by 4 and 8. The use of natural numbers and modular arithmetic in Lean is appropriate, and the theorem holds for all \\(n \\in \\mathbb{N}\\), including edge cases like \\(n = 0\\) and \\(n = 1\\), without contradicting the original intent.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:7.5}","question":"If $p$ is an odd prime, then $(\\frac{ab}{p}) = (\\frac{a}{p}) (\\frac{b}{p})$ for all integers $a$ and $b$.","solution":"If $p$ divides $a$ or $b$, both sides are 0. Otherwise use Corollary 7.4 with $a=g^i, b=g^j$. Then $(\\frac{ab}{p}) = (-1)^{i+j} = (-1)^i (-1)^j$.","source":"ProblemsInENT","id":"problem_71_8","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem legendre_symbol_multiplicativity (p : ℕ) [Fact (Nat.Prime p)] (hp_odd : Odd p) (a b : ℤ) :\n  jacobiSym (a * b) p = jacobiSym a p * jacobiSym b p := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. The original problem states the multiplicativity of the Legendre symbol for an odd prime \\( p \\). In Mathlib, the Legendre symbol `legendreSym p a` is defined as `jacobiSym a p`, and the property holds for the Jacobi symbol as well. The hypotheses in the Lean theorem—`p` being prime (`[Fact (Nat.Prime p)]`) and odd (`hp_odd : Odd p`)—ensure \\( p \\) is an odd prime. The variables `a` and `b` are integers (`ℤ`), matching \"for all integers \\( a \\) and \\( b \\).\" There are no ambiguities or omissions.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:7.6}","question":"If $p$ is an odd prime, then for all integers $a$ we have $(\\frac{a}{p}) \\equiv a^{(p-1)\/2} \\pmod p$.","solution":"If $a=g^i$, then $a^{(p-1)\/2} = (g^{(p-1)\/2})^i ≡ (-1)^i \\pmod p$, since $g^{(p-1)\/2} \\equiv -1$. By Corollary 7.4, this is $(\\frac{a}{p})$.","source":"ProblemsInENT","id":"problem_72_1","formal_statement":"import Mathlib.NumberTheory.LegendreSymbol.Basic\nimport Mathlib.Data.Int.ModEq\n\ntheorem eulers_criterion \n  (p : ℕ) \n  (hp : Nat.Prime p) \n  (hp_odd : p % 2 = 1) \n  (a : ℤ) : \n  jacobiSym a p ≡ a ^ ((p - 1) \/ 2) [ZMOD p] := by sorry","judge":true,"judge_content":"The formalization correctly captures Euler's criterion for odd primes. The hypotheses `hp : Nat.Prime p` and `hp_odd : p % 2 = 1` ensure that `p` is an odd prime. The symbol `jacobiSym a p` is equivalent to the Legendre symbol for prime `p`, and the congruence modulo `p` is appropriately expressed using `[ZMOD p]`. The exponent `(p - 1) \/ 2` is computed in `ℕ`, which is exact since `p` is odd, and the integer exponentiation `a ^ ((p - 1) \/ 2)` is correctly typed. No auxiliary definitions are introduced, and the statement aligns precisely with the natural language problem.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:7.9}","question":"If $p$ is an odd prime and $a \\in U_p$, then $(\\frac{a}{p}) = (-1)^\\mu$ where $\\mu = |aP \\cap N|$.","solution":"Consider the product of elements in $aP$. $a^{(p-1)\/2} ((p-1)\/2)! \\equiv (-1)^\\mu ((p-1)\/2)! \\pmod p$. Cancel the factorial.","source":"ProblemsInENT","id":"problem_75_1","formal_statement":"import Mathlib\n\nset_option maxHeartbeats 0\n\ntheorem legendre_symbol_by_intersection_count (p : ℕ) (a : ℤ) (hp : p.Prime) (hp_odd : Odd p) \n  (ha : 1 ≤ a ∧ a < p) :\n  let P : Set ℤ := {x | 0 < x ∧ 2 * x < p}\n  let N : Set ℤ := {x | -p \/ 2 < x ∧ x < 0}\n  let aP : Set ℤ := {x | ∃ y ∈ P, x = a * y}\n  let μ : ℕ := Set.ncard (aP ∩ N)\n  jacobiSym a p = (-1 : ℤ) ^ μ := by sorry","judge":false,"judge_content":"The natural language statement describes Gauss's lemma for the Legendre symbol, where \\(\\mu\\) counts the number of residues of \\(aP\\) modulo \\(p\\) that fall in the negative interval \\((-p\/2, 0)\\). However, the Lean formalization defines \\(aP\\) directly in \\(\\mathbb{Z}\\) without reduction modulo \\(p\\), leading to an empty intersection with \\(N\\) (since \\(aP\\) consists of positive integers and \\(N\\) consists of negative integers). This results in \\(\\mu = 0\\) and the conclusion \\(\\left(\\frac{a}{p}\\right) = 1\\) for all \\(a\\), which is false. The formalization fails to capture the intended modulo condition, making it incorrect.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{thm:8.12}","question":"The set of arithmetic functions with $f(1) \\neq 0$ is an abelian group under Dirichlet product.","solution":"Closure, associativity, identity, inverses.","source":"ProblemsInENT","id":"problem_94_4","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem dirichlet_convolution_group_inverse (R : Type*) [Field R] :\n  let ArithmeticFunction := ℕ → R\n  let dirichlet_conv (f g : ArithmeticFunction) : ArithmeticFunction := \n    fun n => ∑ d in n.divisors, f d * g (n \/ d)\n  let non_zero_at_one := {f : ArithmeticFunction | f 1 ≠ 0}\n  -- The set of arithmetic functions with f(1) ≠ 0 forms an abelian group under Dirichlet convolution\n  (∃ (inst : Group non_zero_at_one), \n    (∀ f : non_zero_at_one, ∀ g : non_zero_at_one, \n      dirichlet_conv f.val g.val = dirichlet_conv g.val f.val) ∧\n    -- The inverse of f is the function f_inv where\n    (∀ f : non_zero_at_one, ∃ f_inv : ArithmeticFunction,\n      f_inv 1 = 1 \/ f.val 1 ∧\n      (∀ n : ℕ, n > 1 → \n        f_inv n = -1 \/ f.val 1 * ∑ d in (n.divisors.filter (· < n)), \n          f.val (n \/ d) * f_inv d) ∧\n      -- f_inv is the group inverse of f\n      dirichlet_conv f.val f_inv = (fun _ => 1) ∧\n      dirichlet_conv f_inv f.val = (fun _ => 1))) := by sorry","judge":false,"judge_content":"The provided Lean 4 formalization is **incorrect** due to several critical issues:\n\n1. **Incorrect identity element**: The formalization uses `(fun _ => 1)` (the constant function 1) as the identity for Dirichlet convolution. However, the correct identity for Dirichlet convolution is the function `ε` defined by `ε(1) = 1` and `ε(n) = 0` for `n > 1`.\n\n2. **Incomplete group structure**: The formalization asserts the existence of a `Group` instance on `non_zero_at_one` without specifying the group operation, identity, or inverse within that instance. The conditions provided (commutativity and existence of an inverse) do not enforce that the group operation is Dirichlet convolution.\n\n3. **Inverse element not in the set**: While the recurrence for `f_inv` is correct for the Dirichlet inverse, the formalization does not explicitly require `f_inv` to be in `non_zero_at_one` (i.e., that `f_inv 1 ≠ 0`). Although this follows from `f_inv 1 = 1 \/ f.val 1` and `f.val 1 ≠ 0`, the group inverse must be an element of the group set.\n\nThe formalization does not accurately capture the statement that the set of arithmetic functions with `f(1) ≠ 0` forms an abelian group under Dirichlet convolution.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{thm:8.13}","question":"$f = g * u$ if and only if $g = f * \\mu$.","solution":"Follows from $\\mu * u = I$.","source":"ProblemsInENT","id":"problem_95_9","formal_statement":"import Mathlib.NumberTheory.ArithmeticFunction\n\ntheorem dirichlet_convolution_unit_mobius :\n  ∀ {α : Type*} [CommRing α] (f g : ArithmeticFunction α),\n  f = g * ArithmeticFunction.zeta ↔ g = f * ArithmeticFunction.moebius := by sorry","judge":true,"judge_content":"The original statement expresses the equivalence between \\(f = g * u\\) and \\(g = f * \\mu\\), where \\(u\\) is the constant 1 arithmetic function (often denoted ζ) and \\(\\mu\\) is the Möbius function. In Lean, `ArithmeticFunction.zeta` represents the constant 1 function, and `ArithmeticFunction.moebius` is the Möbius function. The theorem in Lean correctly captures this equivalence for arbitrary arithmetic functions \\(f\\) and \\(g\\) over any commutative ring α, using Dirichlet convolution as the multiplication operation.\n\nThe formalization aligns precisely with the mathematical meaning, accounting for standard conventions in Lean's `Mathlib` regarding arithmetic functions and Dirichlet convolution. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:8.14}","question":"If $g$ and $h$ are multiplicative functions, and if $f = g * h$, then $f$ is multiplicative.","solution":"Generalization of Lemma 8.1.","source":"ProblemsInENT","id":"problem_96_3","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem multiplicative_function_closure (g h : ℕ → ℤ) \n  (hg : ∀ m n : ℕ, 0 < m → 0 < n → Nat.gcd m n = 1 → g (m * n) = g m * g n)\n  (hh : ∀ m n : ℕ, 0 < m → 0 < n → Nat.gcd m n = 1 → h (m * n) = h m * h n) :\n  let f : ℕ → ℤ := fun n => ∑ d in (Nat.divisors n), g d * h (n \/ d)\n  ∀ m n : ℕ, 0 < m → 0 < n → Nat.gcd m n = 1 → f (m * n) = f m * f n := by sorry","judge":true,"judge_content":"The formalization correctly captures the original mathematical statement. The hypotheses `hg` and `hh` specify that `g` and `h` are multiplicative functions in the standard number-theoretic sense (for positive coprime arguments), and the conclusion shows that their Dirichlet convolution `f` (defined as the sum over divisors) is also multiplicative under the same conditions. The codomain `ℤ` is a valid commutative ring for multiplicative functions, and the use of `Nat.gcd` for coprimality and positive arguments (`0 < m`, `0 < n`) aligns with conventional treatments. No ambiguities or omissions are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:8.2}","question":"The divisor functions $\\tau$ and $\\sigma$ are multiplicative.","solution":"$\\tau = u * u$, $\\sigma = N * u$. Since $u$ and $N$ are multiplicative, so are $\\tau$ and $\\sigma$ by Lemma 8.1.","source":"ProblemsInENT","id":"problem_84_0","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat Classical Polynomial\n\ntheorem divisor_functions_multiplicative (m n : ℕ) (hm : 0 < m) (hn : 0 < n) (h : Nat.gcd m n = 1) :\n  (Finset.card (Nat.divisors (m * n)) = Finset.card (Nat.divisors m) * Finset.card (Nat.divisors n)) ∧\n  ((Nat.divisors (m * n)).sum id = ((Nat.divisors m).sum id) * ((Nat.divisors n).sum id)) := by sorry","judge":true,"judge_content":"The formalization correctly captures the statement that the divisor functions τ (number of divisors) and σ (sum of divisors) are multiplicative for coprime positive integers. It uses `Nat.divisors` to represent divisors, `Finset.card` for τ, and `Finset.sum id` for σ. The hypotheses require `m` and `n` to be positive (`0 < m`, `0 < n`) and coprime (`Nat.gcd m n = 1`), aligning with the standard number-theoretic definition of multiplicative functions.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:8.3}","question":"If $n = p_1^{e_1} \\dots p_k^{e_k}$, then $\\tau(n) = \\prod (e_i + 1)$ and $\\sigma(n) = \\prod \\frac{p_i^{e_i+1}-1}{p_i-1}$.","solution":"Evaluate for prime powers and use multiplicativity.","source":"ProblemsInENT","id":"problem_85_5","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem compute_divisor_functions (n : ℕ) (hn : n > 0) :\n  (n.factorization.support.prod (fun p => n.factorization p + 1) = (Nat.divisors n).card) ∧\n  (n.factorization.support.prod (fun p => (p ^ (n.factorization p + 1) - 1) \/ (p - 1)) = (Nat.divisors n).sum id) := by sorry","judge":true,"judge_content":"The formalization correctly represents the natural language statement. The left-hand sides compute the divisor count and divisor sum using the prime factorization, matching the formulas for \\(\\tau(n)\\) and \\(\\sigma(n)\\). The right-hand sides use `Nat.divisors` to obtain the divisor count and sum, which align with the definitions of \\(\\tau(n)\\) and \\(\\sigma(n)\\). The conditions (positive \\(n\\)) and the use of natural number operations are appropriate given the context.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:8.4}","question":"(a) If $n = 2^{p-1}(2^p - 1)$ where $p$ and $2^p - 1$ are both prime, then $n$ is perfect. (b) If $n$ is even and perfect, then $n$ has the form given in (a).","solution":"(a) $\\sigma(n) = \\sigma(2^{p-1})\\sigma(2^p-1) = (2^p-1)2^p = 2n$. (b) Euler's proof using multiplicativity of $\\sigma$.","source":"ProblemsInENT","id":"problem_86_5","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem even_perfect_number_characterization : \n  (∀ p : ℕ, Nat.Prime p → Nat.Prime (2^p - 1) → \n    let n := 2^(p-1) * (2^p - 1)\n    (∑ d in (Nat.divisors n).filter (· < n), d) = n) ∧\n  (∀ n : ℕ, Even n → (∑ d in (Nat.divisors n).filter (· < n), d) = n →\n    ∃ p : ℕ, Nat.Prime p ∧ Nat.Prime (2^p - 1) ∧ n = 2^(p-1) * (2^p - 1)) := by sorry","judge":true,"judge_content":"The formalization correctly captures both parts of the original statement. Part (a) asserts that for any prime \\( p \\) such that \\( 2^p - 1 \\) is prime, the number \\( n = 2^{p-1}(2^p - 1) \\) is perfect, which is represented by the sum of its proper divisors equaling \\( n \\). Part (b) asserts that any even perfect number \\( n \\) must have the form \\( n = 2^{p-1}(2^p - 1) \\) for some prime \\( p \\) where \\( 2^p - 1 \\) is also prime. The formalization uses `Even n` to restrict to even numbers and the sum condition for perfection, aligning with the informal definitions. All operations (exponentiation, subtraction) are appropriately handled in Lean given the constraints (e.g., \\( p \\geq 2 \\)). No ambiguities or omissions are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:8.6}","question":"Let $f$ and $g$ be arithmetic functions. If $f(n) = \\sum_{d|n} g(d)$ for all $n$, then $g(n) = \\sum_{d|n} f(d)\\mu(n\/d) = \\sum_{d|n} \\mu(d)f(n\/d)$ for all $n$.","solution":"Substitute $f$ into the sum, rearrange terms, and use $\\sum_{d|n} \\mu(d) = I(n)$.","source":"ProblemsInENT","id":"problem_88_5","formal_statement":"import Mathlib.Algebra.BigOperators.Basic\nimport Mathlib.NumberTheory.ArithmeticFunction\n\nopen BigOperators\n\ntheorem mobius_inversion_theorem {R : Type*} [CommRing R] (f g : ℕ → R) \n  (h : ∀ n, f n = ∑ d in Nat.divisors n, g d) :\n  ∀ n, g n = ∑ d in Nat.divisors n, ArithmeticFunction.moebius (n \/ d) * f d ∧\n       g n = ∑ d in Nat.divisors n, ArithmeticFunction.moebius d * f (n \/ d) := by sorry","judge":false,"judge_content":"The formalization is incorrect because it fails to account for the case `n = 0`. The natural language statement of Möbius inversion is standard for positive integers, but the Lean formalization quantifies over all natural numbers, including 0. As demonstrated, the theorem does not hold for `n = 0` under the given hypothesis, leading to a counterexample. To be correct, the formalization must restrict to positive `n`, for example by changing the quantifier to `∀ n > 0` or `∀ n, n ≠ 0 → ...`.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{thm:8.8}","question":"If $n = p_1^{e_1} \\dots p_k^{e_k}$, then $\\mu(n) = (-1)^k$ if each $e_i = 1$, and $0$ if some $e_i > 1$.","solution":"Prove by induction or checking the property $\\sum_{d|n} \\mu(d) = I(n)$.","source":"ProblemsInENT","id":"problem_90_6","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem sum_mobius_over_divisors (n : ℕ) (hn : 0 < n) : \n  ∑ d in Nat.divisors n, ArithmeticFunction.moebius d = 1 := by sorry","judge":false,"judge_content":"The formalization does not correspond to the original problem. The original statement defines the Möbius function's values based on prime factorization, while the Lean theorem asserts a false property about sums over divisors. Therefore, the formalization is incorrect.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{thm:9.10}","question":"Analyticity of Dirichlet series.","solution":"Standard result.","source":"ProblemsInENT","id":"problem_107_8","formal_statement":"import Mathlib\n\nopen BigOperators Real Nat Topology Complex Set\n\n\/-- Let f(s) = ∑_{n=1}^∞ a_n n^(-s) be a Dirichlet series with a_n being bounded. \nThen f is analytic in the region {s = σ + it : σ > σ_a}, where σ_a is the abscissa \nof absolute convergence. -\/\ntheorem dirichlet_series_analyticity \n  (a : ℕ → ℂ) \n  (ha_bounded : ∃ M : ℝ, ∀ n : ℕ, n ≥ 1 → Complex.abs (a n) ≤ M) :\n  let σ_a := sInf {σ : ℝ | Summable (fun n : ℕ => if n ≥ 1 then Complex.abs (a n) * (n : ℝ)^(-σ) else 0)}\n  AnalyticOn ℂ (fun s : ℂ => ∑' n : ℕ, if n ≥ 1 then a n * (n : ℂ)^(-s) else 0)\n    {s : ℂ | s.re > σ_a} := by sorry","judge":true,"judge_content":"The formalization accurately captures the natural language statement. The hypotheses correctly specify boundedness of the coefficients for \\( n \\geq 1 \\), and the abscissa of absolute convergence \\( \\sigma_a \\) is defined as the infimum of real \\( \\sigma \\) for which the series of absolute values converges. The conclusion asserts analyticity of the Dirichlet series for complex \\( s \\) with real part greater than \\( \\sigma_a \\), matching the intended region. All conventions in Lean regarding natural numbers (including zero), exponentiation, and summation are handled appropriately.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:9.1}","question":"The series $\\zeta(s) = \\sum 1\/n^s$ converges for all real $s > 1$, and diverges for all real $s \\le 1$.","solution":"Integral test or comparison.","source":"ProblemsInENT","id":"problem_98_6","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem riemann_zeta_convergence_condition (s : ℝ) : \n  (Summable (fun n : ℕ+ => (1 : ℝ) \/ (n : ℝ) ^ s)) ↔ s > 1 := by sorry","judge":true,"judge_content":"The formalization correctly captures the original statement. It sums over positive integers ℕ+ and uses real division and exponentiation to represent \\(1\/n^s\\). The equivalence `Summable ... ↔ s > 1` precisely states convergence for \\(s > 1\\) and divergence for \\(s \\leq 1\\), aligning with the mathematical fact.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:9.2}","question":"The series $\\sum 1\/p_n$ diverges.","solution":"Proof by contradiction using geometric series expansion.","source":"ProblemsInENT","id":"problem_99_6","formal_statement":"import Mathlib\n\nopen BigOperators Real Nat Topology \n\n-- The nthPrime function represents the standard sequence of prime numbers\n-- in increasing order (0-indexed, so nthPrime 0 = 2, nthPrime 1 = 3, etc.)\nnoncomputable def nthPrime (n : ℕ) : ℕ := sorry\n\n-- Properties of the nthPrime function\naxiom nthPrime_prime (n : ℕ) : Nat.Prime (nthPrime n)\naxiom nthPrime_strictly_increasing (m n : ℕ) : m < n → nthPrime m < nthPrime n\naxiom nthPrime_complete (p : ℕ) : Nat.Prime p → ∃ n : ℕ, nthPrime n = p\n\n-- The main theorem: the sum of reciprocals of primes diverges\ntheorem prime_series_divergence : \n  ¬ Summable (fun n : ℕ => (1 : ℝ) \/ (nthPrime n)) := by sorry","judge":true,"judge_content":"The formalization correctly captures the natural language statement that the series of reciprocals of primes diverges. The definition of `nthPrime` and its axioms appropriately characterize the sequence of primes in increasing order, and the theorem `¬ Summable (fun n : ℕ => (1 : ℝ) \/ (nthPrime n))` is equivalent to the divergence of the series. The use of `ℝ` for division avoids truncation issues, and the indexing starting at 0 in `ℕ` does not affect the convergence behavior of the series.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:9.3}","question":"If $s > 1$ then $\\zeta(s) = \\prod_p (1 - p^{-s})^{-1}$.","solution":"Expand the product into geometric series and use unique factorization.","source":"ProblemsInENT","id":"problem_100_8","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem euler_product_formula (s : ℂ) (hs : 1 < s.re) : \n  riemannZeta s = ∏' p : ℕ, if Nat.Prime p then (1 - (p : ℂ)^(-s))⁻¹ else 1 := by sorry","judge":true,"judge_content":"The formalization correctly captures the Euler product formula for the Riemann zeta function. The condition `1 < s.re` generalizes the informal condition `s > 1` to complex numbers with real part greater than 1, which is standard for this theorem. The product over all natural numbers, with the term defined as `(1 - p^(-s))⁻¹` for primes and 1 otherwise, is equivalent to the product over primes only. No auxiliary definitions are introduced, and the formalization aligns precisely with the natural language statement.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:9.4}","question":"If $s > 1$ then $\\sum_{n=1}^\\infty \\frac{\\mu(n)}{n^s} = \\frac{1}{\\zeta(s)}$.","solution":"Since $\\mu * u = I$, the product of Dirichlet series for $\\mu$ and $u$ is $1$.","source":"ProblemsInENT","id":"problem_101_3","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem reciprocal_zeta_generating_function (s : ℝ) (hs : s > 1) : \n  ∑' n : ℕ+, (ArithmeticFunction.moebius n : ℝ) \/ (n : ℝ) ^ s = 1 \/ riemannZeta s := by sorry","judge":true,"judge_content":"The formalization accurately captures the original statement: for real \\( s > 1 \\), the infinite sum over positive integers of \\( \\mu(n)\/n^s \\) equals \\( 1\/\\zeta(s) \\). The use of `ℕ+` ensures the sum starts at 1, and coercions to `ℝ` handle the real arithmetic correctly. The `riemannZeta` function in Mathlib is defined as the sum of \\( 1\/n^s \\) for \\( s > 1 \\), matching the conventional definition. No ambiguities or errors are present.\n\n**Final Recommendation**: Correct"}
{"label":"\\label{thm:9.5}","question":"The probability that two randomly- and independently-chosen integers are coprime is given by $1\/\\zeta(2) = 6\/\\pi^2$.","solution":"Using inclusion-exclusion or conditional probability arguments.","source":"ProblemsInENT","id":"problem_102_8","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem coprime_probability_limit : \n  Filter.Tendsto (fun N : ℕ => \n    ((Finset.filter (fun p : ℕ × ℕ => Nat.gcd p.1 p.2 = 1) \n      (Finset.product (Finset.Icc 1 N) (Finset.Icc 1 N))).card : ℝ) \/ (N : ℝ)^2) \n    Filter.atTop (nhds (6 \/ Real.pi^2)) := by sorry","judge":true,"judge_content":"**Final Recommendation**: Correct"}
{"label":"\\label{thm:9.6}","question":"Multiplication of Dirichlet series corresponds to Dirichlet product of coefficients.","solution":"Proof by rearranging terms.","source":"ProblemsInENT","id":"problem_103_9","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem dirichlet_series_product (a b : ℕ → ℂ) (s : ℂ) :\n  (∑' n : ℕ, if n = 0 then 0 else a n \/ (n : ℂ) ^ s) * \n  (∑' n : ℕ, if n = 0 then 0 else b n \/ (n : ℂ) ^ s) = \n  ∑' n : ℕ, (if n = 0 then 0 else (∑ d in (n : ℕ).divisors, a d * b (n \/ d))) \/ (n : ℂ) ^ s := by sorry","judge":false,"judge_content":"The formalization is incorrect because it omits essential convergence hypotheses. The natural language statement about Dirichlet series multiplication is typically valid only under conditions of absolute convergence, but the Lean theorem is stated unconditionally for arbitrary sequences `a, b : ℕ → ℂ` and complex `s`. A counterexample exists: take `a(n) = b(n) = (-1)^{n-1} \/ n^{1\/2}` and `s = 1\/2`. Then the left-hand side equals `(log 2)^2` (since the series converge conditionally), while the right-hand side involves a divergent series, so its `tsum` is `0`, leading to a contradiction. Thus, the theorem as formalized is false without additional assumptions.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{thm:9.7}","question":"Euler product for multiplicative functions.","solution":"Generalization of Theorem 9.3.","source":"ProblemsInENT","id":"problem_104_6","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem euler_product_multiplicative_function (g : ℕ → ℂ) \n  (hg : ∀ m n : ℕ, Nat.gcd m n = 1 → g (m * n) = g m * g n) :\n  let f : ℕ → ℂ := fun n => ∏ d in Nat.divisors n, g d\n  (∀ m n : ℕ, Nat.gcd m n = 1 → f (m * n) = f m * f n) ∧ \n  ∀ s : ℂ, (∑' n : ℕ, f (n + 1) \/ (n + 1 : ℂ)^s) = \n    ∏' p : ℕ, if Nat.Prime p then (1 - g p \/ (p : ℂ)^s)⁻¹ else 1 := by sorry","judge":false,"judge_content":"The formalization attempts to state an Euler product identity for a function `f` defined via a multiplicative function `g`. However, there are critical issues:\n\n1. **Missing condition `g(1) = 1`**: Multiplicative functions in number theory conventionally satisfy `g(1) = 1`. Without this, the definition of `f` and the Euler product may not hold as stated.\n2. **Incorrect Euler product form**: The expression `(1 - g(p) \/ p^s)⁻¹` is valid only for *completely multiplicative* functions, but the hypothesis only assumes `g` is multiplicative (coprime condition). For general multiplicative functions, the Euler product involves a sum over prime powers: `1 + g(p)\/p^s + g(p²)\/p^{2s} + ...`.\n3. **Convergence considerations**: The formalization uses infinite sum and product notations (`∑'` and `∏'`) without stating convergence conditions, which are essential for the Euler product identity to hold.\n\nThus, the formalization does not accurately represent the Euler product for multiplicative functions and would be false under the given hypotheses.\n\n**Final Recommendation**: Incorrect"}
{"label":"\\label{thm:9.9}","question":"Existence of abscissa of absolute convergence.","solution":"Standard result for Dirichlet series.","source":"ProblemsInENT","id":"problem_106_9","formal_statement":"import Mathlib\nimport Aesop\n\nset_option maxHeartbeats 0\n\nopen BigOperators Real Nat Topology Rat\n\ntheorem abs_convergence_absissa_uniqueness \n  (a : ℕ → ℝ) \n  (lambda : ℕ → ℝ) \n  (hlambda_nonneg : ∀ n, 0 ≤ lambda n)\n  (hlambda_strict_mono : StrictMono lambda)\n  (hlambda_tendsto : Filter.Tendsto lambda Filter.atTop Filter.atTop)\n  (sigma : ℝ)\n  (h_conv : ∀ s : ℂ, s.re > sigma → Summable (fun n => |a n| * Real.exp (-(s.re * lambda n))))\n  (h_div : ∀ s : ℂ, s.re < sigma → ¬Summable (fun n => |a n| * Real.exp (-(s.re * lambda n))))\n  : ∀ sigma' : ℝ, \n    (∀ s : ℂ, s.re > sigma' → Summable (fun n => |a n| * Real.exp (-(s.re * lambda n)))) ∧\n    (∀ s : ℂ, s.re < sigma' → ¬Summable (fun n => |a n| * Real.exp (-(s.re * lambda n))))\n    → sigma' = sigma := by sorry","judge":false,"judge_content":"The formalization is incorrect because it only addresses uniqueness of the abscissa of absolute convergence, whereas the original problem explicitly states \"Existence of abscissa of absolute convergence.\" This indicates the theorem should assert the existence of such an abscissa, not just its uniqueness given a candidate. The provided Lean theorem `abs_convergence_absissa_uniqueness` proves that if a real number `sigma` satisfies the convergence\/divergence conditions, then any other real number `sigma'` satisfying the same conditions must equal `sigma`. This omits the existence claim entirely, making it incomplete and misaligned with the natural language statement.\n\n**Final Recommendation**: Incorrect"}
